(function(e){function t(t){for(var o,s,a=t[0],l=t[1],i=t[2],u=0,d=[];u<a.length;u++)s=a[u],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&d.push(r[s][0]),r[s]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);p&&p(t);while(d.length)d.shift()();return c.push.apply(c,i||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],o=!0,s=1;s<n.length;s++){var l=n[s];0!==r[l]&&(o=!1)}o&&(c.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},r={app:0},c=[];function s(e){return a.p+"js/"+({}[e]||e)+"."+{"chunk-2d0ddbb0":"9549af1f","chunk-2d0e26e1":"de242df8","chunk-2d21e6d0":"74d84680","chunk-91bb39a0":"0aa0b4eb","chunk-cb225b90":"02129d95"}[e]+".js"}function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,o){n=r[e]=[t,o]}));t.push(n[2]=o);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.src=s(e);var i=new Error;c=function(t){l.onerror=l.onload=null,clearTimeout(u);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;i.message="Loading chunk "+e+" failed.\n("+o+": "+c+")",i.name="ChunkLoadError",i.type=o,i.request=c,n[1](i)}r[e]=void 0}};var u=setTimeout((function(){c({type:"timeout",target:l})}),12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(t)},a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/onlineEditor/",a.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var p=i;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"2d3c":function(e,t,n){},"48f3":function(e,t,n){"use strict";n("c255")},"507b":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var o=n("a6ec");n("cae4");const r={class:"console-wrap"};function c(e,t){const n=Object(o["M"])("loading");return Object(o["ab"])((Object(o["E"])(),Object(o["l"])("div",r,[t[0]||(t[0]=Object(o["m"])("p",null,"Console Panel",-1)),(Object(o["E"])(!0),Object(o["l"])(o["b"],null,Object(o["J"])(e.$store.consoleContent,(e,t)=>(Object(o["E"])(),Object(o["l"])("div",{class:Object(o["x"])(["console-item",e.method])},Object(o["P"])(e.data),3))),256))])),[[n,e.$store.loading]])}n("dd82");var s=n("a0fd"),a=n.n(s);const l={},i=a()(l,[["render",c],["__scopeId","data-v-bae56e94"]]);var u=i,p=n("21f5");const d={html:'<div id="app">hello world</div>',javascript:"const count = 1",css:"#app {\n    color: red;    \n  }",vue:"<template>\n    <h1>{{ msg }}</h1>\n    <input v-model=\"msg\">\n  </template>\n\n  <script setup>\n  import { ref, createApp } from 'vue'\n  \n  const msg = ref('Hello World!')\n  <\/script>\n\n  <style>\n  h1 {\n      color: blue;\n  }\n  </style>",typescript:"class Animal {\n      name: string;\n      constructor(name: string) {\n          this.name = name;\n      }\n      move(distanceInMeters: number = 0) {\n          console.log(this.name+'moved'+distanceInMeters+'m.');\n      }\n  }\n  const animal = new Animal('大象');\n  animal.move(10);"},b={html:"htmlContent",javascript:"javascriptContent",css:"cssContent",vue:"vueContent",typescript:"typescriptContent"},f={class:"editor-wrap"},m={key:0};var j={__name:"Editor",setup(e){const{proxy:t}=Object(o["r"])(),n=Object(o["H"])(null),r=Object(o["H"])(null),c=Object(o["H"])(null),s=Object(o["H"])(null),a=Object(o["H"])(null),l=[],i=async(e,n)=>{const o=p["editor"].create(e,{model:null,minimap:{enabled:!1},wordWrap:"on",theme:"vs-dark",fontSize:14,fontFamily:"Microsoft YaHei",contextmenu:!1,fixedOverflowWidgets:!0,readOnly:!1});u(o,t.$store[b[n]],n),o.onDidChangeModelContent(()=>{t.$store[b[n]]=o.getValue()}),o.onDidBlurEditorText(()=>{}),l.push(o)},u=(e,t,n)=>{switch(n){case"vue":n="html";break;case"typescript":n="javascript";break}let o=e.getModel(),r=p["editor"].createModel(t,n);e.setModel(r),o&&o.dispose()};return Object(o["C"])(()=>{}),Object(o["Y"])(()=>t.$store.languageType,async()=>{1===t.$store.languageType?await Object(o["w"])(()=>{i(n.value,"html"),i(r.value,"javascript"),i(c.value,"css")}):2===t.$store.languageType?await Object(o["w"])(()=>{i(s.value,"vue")}):3===t.$store.languageType&&await Object(o["w"])(()=>{i(a.value,"typescript")})},{immediate:!0}),(e,t)=>(Object(o["E"])(),Object(o["l"])("div",f,[1===e.$store.languageType?(Object(o["E"])(),Object(o["l"])("div",m,[Object(o["m"])("div",{ref_key:"refHtml",ref:n,class:"html-wrap"},"html",512),Object(o["m"])("div",{ref_key:"refJs",ref:r,class:"js-wrap"},"js",512),Object(o["m"])("div",{ref_key:"refCss",ref:c,class:"css-wrap"},"css",512)])):Object(o["k"])("",!0),2===e.$store.languageType?(Object(o["E"])(),Object(o["l"])("div",{key:1,ref_key:"refVue",ref:s,class:"vue-wrap"},"vue",512)):Object(o["k"])("",!0),3===e.$store.languageType?(Object(o["E"])(),Object(o["l"])("div",{key:2,ref_key:"refTypescript",ref:a,class:"typescript-wrap"},"typescript",512)):Object(o["k"])("",!0)]))}};n("c4ef");const v=a()(j,[["__scopeId","data-v-58d42b73"]]);var y=v;const O={class:"header-wrap"},g={class:"btns"};var h={__name:"Header",setup(e){const{proxy:t}=Object(o["r"])(),n=Object(o["G"])({lang:1,languageList:[{label:"vanilla",value:1},{label:"vue",value:2},{label:"typescript",value:3}]}),r=()=>{t.$store.loading=!0,t.$store.consoleContent=[],1===t.$store.languageType?t.$store.docContent=c(t.$store.htmlContent,t.$store.javascriptContent,t.$store.cssContent):2===t.$store.languageType?t.$store.docContent=s(t.$store.vueContent):3===t.$store.languageType&&(t.$store.docContent=a(t.$store.typescriptContent)),Object(o["w"])(()=>{})},c=(e="",t="",n="")=>{let o=`\n    <title>预览</title>\n    <style type="text/css">\n        ${n}\n    </style>\n  `,r=`\n    <script>\n      ${t}\n    <\/script>\n  `,c=`\n    ${e}\n    ${r}\n  `;return`<!DOCTYPE html>\n    <html>\n    <head>\n        <meta charset="UTF-8" />\n        ${o}\n    </head>\n    <body>\n      <script src="/onlineEditor/lib/console.js"><\/script>\n      <script src="/onlineEditor/lib/loadingMsg.js"><\/script>\n      ${c}\n    </body>\n    </html>\n  `},s=e=>`<!DOCTYPE html>\n      <html>\n        <head>\n          <meta charset="UTF-8" />\n          <title>预览</title>\n        </head>\n        <body>\n          <script src="/onlineEditor/lib/vue.runtime.global.prod.js"><\/script>\n          <script src="/onlineEditor/lib/vue3-sfc-loader.js"><\/script>\n          <script src="/onlineEditor/lib/console.js"><\/script>\n          <script src="/onlineEditor/lib/loadingMsg.js"><\/script>\n          <script>\n            /* \x3c!-- */\n            const config = {\n              files: {\n                '/main.vue': \`${e}\`,\n              }\n            };\n            /* --\x3e */\n\n            const options = {\n              devMode: true,\n              moduleCache: {\n                vue: Vue,\n              },\n              async getFile(url) {\n                \n                if ( config.files[url] )\n                  return config.files[url];\n                \n                const res = await fetch(url);\n                if ( !res.ok )\n                  throw Object.assign(new Error(res.statusText + ' ' + url), { res });\n                return {\n                  getContentData: asBinary => asBinary ? res.arrayBuffer() : res.text(),\n                }\n              },\n\n              addStyle(textContent) {\n\n                const style = Object.assign(document.createElement('style'), { textContent });\n                const ref = document.head.getElementsByTagName('style')[0] || null;\n                document.head.insertBefore(style, ref);\n              },\n\n              handleModule: async function (type, getContentData, path, options) {\n\n                switch (type) { \n                  case '.png':\n                    return getContentData(true);\n                } \n              },\n\n              log(type, ...args) {\n\n                console[type](...args);\n              }\n            }\n\n            const app = Vue.createApp(Vue.defineAsyncComponent(() => window['vue3-sfc-loader'].loadModule('/main.vue', options)))\n            app.mount(document.body);\n\n          <\/script>\n        </body>\n      </html>`,a=e=>`<!DOCTYPE html>\n    <html>\n      <head>\n        <meta charset="UTF-8" />\n        <title>预览</title>\n      </head>\n      <body>\n        <script src="/onlineEditor/lib/typescriptServices.js"><\/script>\n        <script src="/onlineEditor/lib/console.js"><\/script>\n        <script src="/onlineEditor/lib/loadingMsg.js"><\/script>\n        <script>\n          function transpile() {\n            // 创建 TypeScript 编译器选项\n            const options = {\n                target: ts.ScriptTarget.ES5,\n                module: ts.ModuleKind.CommonJS,\n                noEmitOnError: true,\n                noImplicitAny: true\n            };\n            // 使用 transpileModule 进行编译\n            const result = ts.transpileModule(\`${e}\`, { compilerOptions: options });\n            // 执行es5代码\n            eval(result.outputText);\n          }\n          transpile();\n        <\/script>\n      </body>\n    </html>`,l=()=>{t.$store.consoleContent=[],t.$store.docContent=c()};return(e,t)=>{const c=Object(o["L"])("el-button"),s=Object(o["L"])("el-option"),a=Object(o["L"])("el-select");return Object(o["E"])(),Object(o["l"])("div",O,[t[2]||(t[2]=Object(o["m"])("h3",null,"online-editor",-1)),Object(o["m"])("div",g,[Object(o["p"])(c,{type:"primary",size:"mini",onClick:r},{default:Object(o["Z"])(()=>t[1]||(t[1]=[Object(o["o"])("运行")])),_:1}),Object(o["p"])(a,{modelValue:e.$store.languageType,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$store.languageType=t),placeholder:"Select",size:"mini",onChange:l,style:{width:"108px","margin-left":"10px"}},{default:Object(o["Z"])(()=>[(Object(o["E"])(!0),Object(o["l"])(o["b"],null,Object(o["J"])(n.languageList,e=>(Object(o["E"])(),Object(o["j"])(s,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])])}}};n("48f3");const w=a()(h,[["__scopeId","data-v-d8b2c94a"]]);var C=w;const $={class:"preview-wrap"},E=["srcdoc"];function T(e,t){const n=Object(o["M"])("loading");return Object(o["ab"])((Object(o["E"])(),Object(o["l"])("div",$,[t[0]||(t[0]=Object(o["m"])("p",null,"预览",-1)),e.$store.iframeShow?(Object(o["E"])(),Object(o["l"])("iframe",{srcdoc:e.$store.docContent,key:e.$store.docContent},null,8,E)):Object(o["k"])("",!0)])),[[n,e.$store.loading]])}n("5ce2");const _={},k=a()(_,[["render",T],["__scopeId","data-v-21bd2170"]]);var x=k;const M={class:"layout-wrap"},P={class:"content-wrap"};var S={__name:"Layout",setup(e){return(e,t)=>(Object(o["E"])(),Object(o["l"])("div",M,[Object(o["p"])(C),Object(o["m"])("div",P,[Object(o["p"])(y),Object(o["ab"])(Object(o["p"])(x,null,null,512),[[o["W"],3!==e.$store.languageType]]),Object(o["p"])(u)])]))}};n("6759");const H=a()(S,[["__scopeId","data-v-3e829bbf"]]);var L=H,A={__name:"App",setup(e){const{proxy:t}=Object(o["r"])();return window.addEventListener("message",e=>{"console"===e.data.type&&t.$store.consoleContent.push(e.data),"loading"===e.data.type&&(t.$store.loading=!1)}),(e,t)=>(Object(o["E"])(),Object(o["l"])("div",null,[Object(o["p"])(L)]))}};n("b991");const D=A;var I=D,V=n("4f68"),B=n("6534"),J=(n("6414"),n("ecce"));n("50e8");const F=()=>{const e=Object(o["i"])(I);e.config.globalProperties.$store=Object(o["G"])({languageType:1,htmlContent:d.html,javascriptContent:d.javascript,cssContent:d.css,vueContent:d.vue,typescriptContent:d.typescript,docContent:"",iframeShow:!0,consoleContent:[],loading:!1}),e.use(V["a"]),e.use(B["a"]),e.directive("loading",J["a"]),e.mount("#app")},Y=()=>{F()};Y()},"5ce2":function(e,t,n){"use strict";n("2d3c")},6759:function(e,t,n){"use strict";n("df67")},"6ad9":function(e,t,n){},"89c3":function(e,t,n){},b991:function(e,t,n){"use strict";n("507b")},c255:function(e,t,n){},c4ef:function(e,t,n){"use strict";n("6ad9")},dd82:function(e,t,n){"use strict";n("89c3")},df67:function(e,t,n){}});