(function(e){function t(t){for(var r,s,a=t[0],l=t[1],i=t[2],u=0,d=[];u<a.length;u++)s=a[u],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&d.push(o[s][0]),o[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);p&&p(t);while(d.length)d.shift()();return c.push.apply(c,i||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(r=!1)}r&&(c.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={app:0},c=[];function s(e){return a.p+"js/"+({}[e]||e)+"."+{"chunk-2d0ddbb0":"9549af1f","chunk-2d0e26e1":"de242df8","chunk-2d21e6d0":"74d84680","chunk-91bb39a0":"0aa0b4eb","chunk-cb225b90":"02129d95"}[e]+".js"}function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=o[e]=[t,r]}));t.push(n[2]=r);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.src=s(e);var i=new Error;c=function(t){l.onerror=l.onload=null,clearTimeout(u);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;i.message="Loading chunk "+e+" failed.\n("+r+": "+c+")",i.name="ChunkLoadError",i.type=r,i.request=c,n[1](i)}o[e]=void 0}};var u=setTimeout((function(){c({type:"timeout",target:l})}),12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(t)},a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/onlineEditor/",a.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var p=i;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},2075:function(e,t,n){"use strict";n("aeb6")},"43a4":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var r=n("a6ec");n("cae4");const o={class:"console-wrap"};function c(e,t){return Object(r["E"])(),Object(r["l"])("div",o,[t[0]||(t[0]=Object(r["m"])("p",null,"Console Panel",-1)),(Object(r["E"])(!0),Object(r["l"])(r["b"],null,Object(r["J"])(e.$store.consoleContent,(e,t)=>(Object(r["E"])(),Object(r["l"])("div",{class:Object(r["x"])(["console-item",e.method])},Object(r["P"])(e.data),3))),256))])}n("6074");var s=n("a0fd"),a=n.n(s);const l={},i=a()(l,[["render",c],["__scopeId","data-v-7e481213"]]);var u=i,p=n("21f5");const d={html:'<div id="app">hello world</div>',javascript:"const count = 1",css:"#app {\n    color: red;    \n  }",vue:"<template>\n    <h1>{{ msg }}</h1>\n    <input v-model=\"msg\">\n  </template>\n\n  <script setup>\n  import { ref, createApp } from 'vue'\n  \n  const msg = ref('Hello World!')\n  <\/script>\n\n  <style>\n  h1 {\n      color: blue;\n  }\n  </style>",typescript:"class Animal {\n      name: string;\n      constructor(name: string) {\n          this.name = name;\n      }\n      move(distanceInMeters: number = 0) {\n          console.log(this.name+'moved'+distanceInMeters+'m.');\n      }\n  }\n  const animal = new Animal('大象');\n  animal.move(10);"},b={html:"htmlContent",javascript:"javascriptContent",css:"cssContent",vue:"vueContent",typescript:"typescriptContent"},f={class:"editor-wrap"},m={key:0};var v={__name:"Editor",setup(e){const{proxy:t}=Object(r["r"])(),n=Object(r["H"])(null),o=Object(r["H"])(null),c=Object(r["H"])(null),s=Object(r["H"])(null),a=Object(r["H"])(null),l=[],i=async(e,n)=>{const r=p["editor"].create(e,{model:null,minimap:{enabled:!1},wordWrap:"on",theme:"vs-dark",fontSize:14,fontFamily:"Microsoft YaHei",contextmenu:!1,fixedOverflowWidgets:!0,readOnly:!1});u(r,t.$store[b[n]],n),r.onDidChangeModelContent(()=>{t.$store[b[n]]=r.getValue()}),r.onDidBlurEditorText(()=>{}),l.push(r)},u=(e,t,n)=>{switch(n){case"vue":n="html";break;case"typescript":n="javascript";break}let r=e.getModel(),o=p["editor"].createModel(t,n);e.setModel(o),r&&r.dispose()};return Object(r["C"])(()=>{}),Object(r["Y"])(()=>t.$store.languageType,async()=>{1===t.$store.languageType?await Object(r["w"])(()=>{i(n.value,"html"),i(o.value,"javascript"),i(c.value,"css")}):2===t.$store.languageType?await Object(r["w"])(()=>{i(s.value,"vue")}):3===t.$store.languageType&&await Object(r["w"])(()=>{i(a.value,"typescript")})},{immediate:!0}),(e,t)=>(Object(r["E"])(),Object(r["l"])("div",f,[1===e.$store.languageType?(Object(r["E"])(),Object(r["l"])("div",m,[Object(r["m"])("div",{ref_key:"refHtml",ref:n,class:"html-wrap"},"html",512),Object(r["m"])("div",{ref_key:"refJs",ref:o,class:"js-wrap"},"js",512),Object(r["m"])("div",{ref_key:"refCss",ref:c,class:"css-wrap"},"css",512)])):Object(r["k"])("",!0),2===e.$store.languageType?(Object(r["E"])(),Object(r["l"])("div",{key:1,ref_key:"refVue",ref:s,class:"vue-wrap"},"vue",512)):Object(r["k"])("",!0),3===e.$store.languageType?(Object(r["E"])(),Object(r["l"])("div",{key:2,ref_key:"refTypescript",ref:a,class:"typescript-wrap"},"typescript",512)):Object(r["k"])("",!0)]))}};n("c4ef");const j=a()(v,[["__scopeId","data-v-58d42b73"]]);var y=j;const O={class:"header-wrap"},g={class:"btns"};var h={__name:"Header",setup(e){const{proxy:t}=Object(r["r"])(),n=Object(r["G"])({lang:1,languageList:[{label:"vanilla",value:1},{label:"vue",value:2},{label:"typescript",value:3}]}),o=()=>{t.$store.consoleContent=[],1===t.$store.languageType?t.$store.docContent=c(t.$store.htmlContent,t.$store.javascriptContent,t.$store.cssContent):2===t.$store.languageType?t.$store.docContent=s(t.$store.vueContent):3===t.$store.languageType&&(t.$store.docContent=a(t.$store.typescriptContent)),Object(r["w"])(()=>{})},c=(e="",t="",n="")=>{let r=`\n    <title>预览</title>\n    <style type="text/css">\n        ${n}\n    </style>\n  `,o=`\n    <script>\n      ${t}\n    <\/script>\n  `,c=`\n    ${e}\n    ${o}\n  `;return`<!DOCTYPE html>\n    <html>\n    <head>\n        <meta charset="UTF-8" />\n        ${r}\n    </head>\n    <body>\n      <script src="/onlineEditor/lib/console.js"><\/script>\n      ${c}\n    </body>\n    </html>\n  `},s=e=>`<!DOCTYPE html>\n      <html>\n        <head>\n          <meta charset="UTF-8" />\n          <title>预览</title>\n        </head>\n        <body>\n          <script src="/onlineEditor/lib/vue.runtime.global.prod.js"><\/script>\n          <script src="/onlineEditor/lib/vue3-sfc-loader.js"><\/script>\n          <script src="/onlineEditor/lib/console.js"><\/script>\n          <script>\n            /* \x3c!-- */\n            const config = {\n              files: {\n                '/main.vue': \`${e}\`,\n              }\n            };\n            /* --\x3e */\n\n            const options = {\n              devMode: true,\n              moduleCache: {\n                vue: Vue,\n              },\n              async getFile(url) {\n                \n                if ( config.files[url] )\n                  return config.files[url];\n                \n                const res = await fetch(url);\n                if ( !res.ok )\n                  throw Object.assign(new Error(res.statusText + ' ' + url), { res });\n                return {\n                  getContentData: asBinary => asBinary ? res.arrayBuffer() : res.text(),\n                }\n              },\n\n              addStyle(textContent) {\n\n                const style = Object.assign(document.createElement('style'), { textContent });\n                const ref = document.head.getElementsByTagName('style')[0] || null;\n                document.head.insertBefore(style, ref);\n              },\n\n              handleModule: async function (type, getContentData, path, options) {\n\n                switch (type) { \n                  case '.png':\n                    return getContentData(true);\n                } \n              },\n\n              log(type, ...args) {\n\n                console[type](...args);\n              }\n            }\n\n            const app = Vue.createApp(Vue.defineAsyncComponent(() => window['vue3-sfc-loader'].loadModule('/main.vue', options)))\n            app.mount(document.body);\n\n          <\/script>\n        </body>\n      </html>`,a=e=>`<!DOCTYPE html>\n    <html>\n      <head>\n        <meta charset="UTF-8" />\n        <title>预览</title>\n      </head>\n      <body>\n        <script src="/onlineEditor/lib/typescriptServices.js"><\/script>\n        <script src="/onlineEditor/lib/console.js"><\/script>\n        <script>\n          function transpile() {\n            // 创建 TypeScript 编译器选项\n            const options = {\n                target: ts.ScriptTarget.ES5,\n                module: ts.ModuleKind.CommonJS,\n                noEmitOnError: true,\n                noImplicitAny: true\n            };\n            // 使用 transpileModule 进行编译\n            const result = ts.transpileModule(\`${e}\`, { compilerOptions: options });\n            // 执行es5代码\n            eval(result.outputText);\n          }\n          transpile();\n        <\/script>\n      </body>\n    </html>`,l=()=>{t.$store.consoleContent=[],t.$store.docContent=c()};return(e,t)=>{const c=Object(r["L"])("el-button"),s=Object(r["L"])("el-option"),a=Object(r["L"])("el-select");return Object(r["E"])(),Object(r["l"])("div",O,[t[2]||(t[2]=Object(r["m"])("h3",null,"online-editor",-1)),Object(r["m"])("div",g,[Object(r["p"])(c,{type:"primary",size:"mini",onClick:o},{default:Object(r["Z"])(()=>t[1]||(t[1]=[Object(r["o"])("运行")])),_:1}),Object(r["p"])(a,{modelValue:e.$store.languageType,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$store.languageType=t),placeholder:"Select",size:"mini",onChange:l,style:{width:"108px","margin-left":"10px"}},{default:Object(r["Z"])(()=>[(Object(r["E"])(!0),Object(r["l"])(r["b"],null,Object(r["J"])(n.languageList,e=>(Object(r["E"])(),Object(r["j"])(s,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])])}}};n("92c4");const w=a()(h,[["__scopeId","data-v-36be7f86"]]);var C=w;const $={class:"preview-wrap"},E=["srcdoc"];function T(e,t){return Object(r["E"])(),Object(r["l"])("div",$,[t[0]||(t[0]=Object(r["m"])("p",null,"预览",-1)),e.$store.iframeShow?(Object(r["E"])(),Object(r["l"])("iframe",{srcdoc:e.$store.docContent,key:e.$store.docContent},null,8,E)):Object(r["k"])("",!0)])}n("2075");const _={},k=a()(_,[["render",T],["__scopeId","data-v-04dc88b3"]]);var x=k;const M={class:"layout-wrap"},P={class:"content-wrap"};var S={__name:"Layout",setup(e){return(e,t)=>(Object(r["E"])(),Object(r["l"])("div",M,[Object(r["p"])(C),Object(r["m"])("div",P,[Object(r["p"])(y),Object(r["ab"])(Object(r["p"])(x,null,null,512),[[r["W"],3!==e.$store.languageType]]),Object(r["p"])(u)])]))}};n("6759");const H=a()(S,[["__scopeId","data-v-3e829bbf"]]);var L=H,A={__name:"App",setup(e){const{proxy:t}=Object(r["r"])();return window.addEventListener("message",e=>{"console"===e.data.type&&t.$store.consoleContent.push(e.data)}),(e,t)=>(Object(r["E"])(),Object(r["l"])("div",null,[Object(r["p"])(L)]))}};n("faff");const D=A;var I=D,V=n("4f68"),B=n("6534"),J=(n("6414"),n("ecce"));n("50e8");const F=()=>{const e=Object(r["i"])(I);e.config.globalProperties.$store=Object(r["G"])({languageType:1,htmlContent:d.html,javascriptContent:d.javascript,cssContent:d.css,vueContent:d.vue,typescriptContent:d.typescript,docContent:"",iframeShow:!0,consoleContent:[]}),e.use(V["a"]),e.use(B["a"]),e.directive("loading",J["a"]),e.mount("#app")},Y=()=>{F()};Y()},6074:function(e,t,n){"use strict";n("43a4")},6759:function(e,t,n){"use strict";n("df67")},"6ad9":function(e,t,n){},"92c4":function(e,t,n){"use strict";n("968b")},"968b":function(e,t,n){},aeb6:function(e,t,n){},c4ef:function(e,t,n){"use strict";n("6ad9")},ca52:function(e,t,n){},df67:function(e,t,n){},faff:function(e,t,n){"use strict";n("ca52")}});