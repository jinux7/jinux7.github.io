<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>jinux</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="/"/>
  <updated>2019-09-04T07:36:20.238Z</updated>
  <id>/</id>
  
  <author>
    <name>jinux</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>一个页面loading小插件2</title>
    <link href="/2019/09/04/%E4%B8%80%E4%B8%AA%E9%A1%B5%E9%9D%A2loading%E5%B0%8F%E6%8F%92%E4%BB%B62/"/>
    <id>/2019/09/04/一个页面loading小插件2/</id>
    <published>2019-09-04T06:53:02.000Z</published>
    <updated>2019-09-04T07:36:20.238Z</updated>
    
    <content type="html"><![CDATA[<p>有多种选择的loading插件<br><a id="more"></a></p><h1 id="一个页面loading小插件2"><a href="#一个页面loading小插件2" class="headerlink" title="一个页面loading小插件2"></a>一个页面loading小插件2</h1><p>前些天写了一个loading的插件，<a href="https://jinux7.github.io/2019/08/18/一个页面loading小插件/" target="_blank" rel="noopener">点击查看</a>,今天又写了一个，优点是可以进行loading样式的选择，有12种样式。<br>先贴出loading插件代码:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @description 移动端的loading效果小插件，内置了12种loading效果</span></span><br><span class="line"><span class="comment"> * @description 使用demo：var mask = new JLoading();</span></span><br><span class="line"><span class="comment"> *                        mask.init('loader-03');</span></span><br><span class="line"><span class="comment"> *                        mask.show(); 显示</span></span><br><span class="line"><span class="comment"> *                        mask.hide(); 隐藏</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">JLoading</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.loaderStr = <span class="string">'loader-01,loader-02,loader-03,loader-04,loader-05,loader-06,loader-07,loader-08,loader-09,loader-10,loader-11,loader-12'</span></span><br><span class="line">  <span class="keyword">this</span>.type = <span class="string">''</span>;</span><br><span class="line">&#125;</span><br><span class="line">JLoading.prototype.init = <span class="function"><span class="keyword">function</span>(<span class="params">type</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="keyword">this</span>.loaderStr.split(<span class="string">','</span>).indexOf(type) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>.type = <span class="string">'loader-01'</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.type = type;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">this</span>.loadIndex = <span class="keyword">this</span>.type.slice(<span class="number">-2</span>);</span><br><span class="line">  <span class="keyword">var</span> nBody = <span class="built_in">document</span>.body,</span><br><span class="line">      nHead = <span class="built_in">document</span>.head;</span><br><span class="line">  <span class="keyword">var</span> nStyle = <span class="built_in">document</span>.createElement(<span class="string">'style'</span>), </span><br><span class="line">      nMask = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>),</span><br><span class="line">      nLoader = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</span><br><span class="line">  nMask.setAttribute(<span class="string">'id'</span>, <span class="string">'JLoading-mask-'</span>+<span class="keyword">this</span>.loadIndex);</span><br><span class="line">  nLoader.setAttribute(<span class="string">'class'</span>, <span class="keyword">this</span>.type);</span><br><span class="line">  nMask.appendChild(nLoader);</span><br><span class="line">  nBody.appendChild(nMask);</span><br><span class="line">  nStyle.innerHTML = <span class="string">`[id*="JLoading-mask"]&#123;display:none;width:100%;height:100%;height:100vh;background-color:rgba(0,0,0,.8)&#125;[class*="loader-"]&#123;position:absolute;display:inline-block;width:10%;padding-top:10%;color:#fff;vertical-align:middle;pointer-events:none;left:45%;top:45%&#125;.loader-01&#123;border:5px dotted currentcolor;border-radius:50%;-webkit-animation:1s loader-01 linear infinite;animation:1s loader-01 linear infinite&#125;@-webkit-keyframes loader-01&#123;0%&#123;-webkit-transform:rotate(0deg);transform:rotate(0deg)&#125;100%&#123;-webkit-transform:rotate(360deg);transform:rotate(360deg)&#125;&#125;@keyframes loader-01&#123;0%&#123;-webkit-transform:rotate(0deg);transform:rotate(0deg)&#125;100%&#123;-webkit-transform:rotate(360deg);transform:rotate(360deg)&#125;&#125;.loader-02&#123;border:5px solid transparent;border-left-color:currentcolor;border-right-color:currentcolor;border-radius:50%;-webkit-animation:1s loader-02 linear infinite;animation:1s loader-02 linear infinite&#125;@-webkit-keyframes loader-02&#123;0%&#123;-webkit-transform:rotate(0deg);transform:rotate(0deg)&#125;100%&#123;-webkit-transform:rotate(360deg);transform:rotate(360deg)&#125;&#125;@keyframes loader-02&#123;0%&#123;-webkit-transform:rotate(0deg);transform:rotate(0deg)&#125;100%&#123;-webkit-transform:rotate(360deg);transform:rotate(360deg)&#125;&#125;.loader-03&#123;border:2px solid currentcolor;border-bottom-color:transparent;border-radius:50%;-webkit-animation:1s loader-03 linear infinite;animation:1s loader-03 linear infinite;position:relative&#125;@-webkit-keyframes loader-03&#123;0%&#123;-webkit-transform:rotate(0deg);transform:rotate(0deg)&#125;100%&#123;-webkit-transform:rotate(360deg);transform:rotate(360deg)&#125;&#125;@keyframes loader-03&#123;0%&#123;-webkit-transform:rotate(0deg);transform:rotate(0deg)&#125;100%&#123;-webkit-transform:rotate(360deg);transform:rotate(360deg)&#125;&#125;.loader-04&#123;border:1px solid currentcolor;border-radius:50%;-webkit-animation:1s loader-04 linear infinite;animation:1s loader-04 linear infinite;position:relative&#125;.loader-04:before&#123;content:'';display:block;width:0;height:0;position:absolute;top:-3px;left:50%;border:3px solid currentcolor;border-radius:50%&#125;@-webkit-keyframes loader-04&#123;0%&#123;-webkit-transform:rotate(0deg);transform:rotate(0deg)&#125;100%&#123;-webkit-transform:rotate(360deg);transform:rotate(360deg)&#125;&#125;@keyframes loader-04&#123;0%&#123;-webkit-transform:rotate(0deg);transform:rotate(0deg)&#125;100%&#123;-webkit-transform:rotate(360deg);transform:rotate(360deg)&#125;&#125;.loader-05&#123;border:5px solid transparent;border-top-color:currentcolor;border-radius:50%;-webkit-animation:1s loader-05 linear infinite;animation:1s loader-05 linear infinite;position:relative&#125;.loader-05:before&#123;content:'';display:block;width:inherit;height:inherit;position:absolute;top:-5px;left:-5px;border:5px solid currentcolor;border-radius:50%;opacity:.5;width:100%;padding-top:100%&#125;@-webkit-keyframes loader-05&#123;0%&#123;-webkit-transform:rotate(0deg);transform:rotate(0deg)&#125;100%&#123;-webkit-transform:rotate(360deg);transform:rotate(360deg)&#125;&#125;@keyframes loader-05&#123;0%&#123;-webkit-transform:rotate(0deg);transform:rotate(0deg)&#125;100%&#123;-webkit-transform:rotate(360deg);transform:rotate(360deg)&#125;&#125;.loader-06&#123;border:5px solid currentcolor;border-radius:50%;-webkit-animation:loader-06 1s ease-out infinite;animation:loader-06 1s ease-out infinite&#125;@-webkit-keyframes loader-06&#123;0%&#123;-webkit-transform:scale(0);transform:scale(0);opacity:0&#125;50%&#123;opacity:1&#125;100%&#123;-webkit-transform:scale(1);transform:scale(1);opacity:0&#125;&#125;@keyframes loader-06&#123;0%&#123;-webkit-transform:scale(0);transform:scale(0);opacity:0&#125;50%&#123;opacity:1&#125;100%&#123;-webkit-transform:scale(1);transform:scale(1);opacity:0&#125;&#125;.loader-07&#123;border:0 solid transparent;border-radius:50%;position:relative&#125;.loader-07:before,.loader-07:after&#123;content:'';border:5px solid currentcolor;border-radius:50%;width:inherit;height:inherit;position:absolute;top:0;left:0;-webkit-animation:loader-07 1s linear infinite;animation:loader-07 1s linear infinite;opacity:0;width:100%;height:100%&#125;.loader-07:before&#123;-webkit-animation-delay:1s;animation-delay:1s&#125;.loader-07:after&#123;-webkit-animation-delay:.5s;animation-delay:.5s&#125;@-webkit-keyframes loader-07&#123;0%&#123;-webkit-transform:scale(0);transform:scale(0);opacity:0&#125;50%&#123;opacity:1&#125;100%&#123;-webkit-transform:scale(1);transform:scale(1);opacity:0&#125;&#125;@keyframes loader-07&#123;0%&#123;-webkit-transform:scale(0);transform:scale(0);opacity:0&#125;50%&#123;opacity:1&#125;100%&#123;-webkit-transform:scale(1);transform:scale(1);opacity:0&#125;&#125;.loader-08&#123;position:relative&#125;.loader-08:before,.loader-08:after&#123;content:'';width:inherit;height:inherit;border-radius:50%;background-color:currentcolor;opacity:.6;position:absolute;top:0;left:0;-webkit-animation:loader-08 2.0s infinite ease-in-out;animation:loader-08 2.0s infinite ease-in-out;width:100%;height:100%&#125;.loader-08:after&#123;-webkit-animation-delay:-1.0s;animation-delay:-1.0s&#125;@-webkit-keyframes loader-08&#123;0%,100%&#123;-webkit-transform:scale(0);transform:scale(0)&#125;50%&#123;-webkit-transform:scale(1);transform:scale(1)&#125;&#125;@keyframes loader-08&#123;0%,100%&#123;-webkit-transform:scale(0);transform:scale(0)&#125;50%&#123;-webkit-transform:scale(1);transform:scale(1)&#125;</span></span><br><span class="line"><span class="string">    &#125;.loader-09&#123;background-color:currentcolor;border-radius:50%;-webkit-animation:loader-09 1.0s infinite ease-in-out;animation:loader-09 1.0s infinite ease-in-out&#125;@-webkit-keyframes loader-09&#123;0%&#123;-webkit-transform:scale(0);transform:scale(0)&#125;100%&#123;-webkit-transform:scale(1);transform:scale(1);opacity:0&#125;&#125;@keyframes loader-09&#123;0%&#123;-webkit-transform:scale(0);transform:scale(0)&#125;100%&#123;-webkit-transform:scale(1);transform:scale(1);opacity:0&#125;&#125;.loader-10&#123;position:relative;-webkit-animation:loader-10-1 2.0s infinite linear;animation:loader-10-1 2.0s infinite linear&#125;.loader-10:before,.loader-10:after&#123;content:'';width:0!important;height:0!important;border:15px solid currentcolor;display:block;position:absolute;border-radius:100%;-webkit-animation:loader-10-2 2s infinite ease-in-out;animation:loader-10-2 2s infinite ease-in-out&#125;.loader-10:before&#123;top:0;left:50%&#125;.loader-10:after&#123;bottom:0;right:50%;-webkit-animation-delay:-1s;animation-delay:-1s&#125;@-webkit-keyframes loader-10-1&#123;100%&#123;-webkit-transform:rotate(360deg);transform:rotate(360deg)&#125;&#125;@keyframes loader-10-1&#123;100%&#123;-webkit-transform:rotate(360deg);transform:rotate(360deg)&#125;&#125;@-webkit-keyframes loader-10-2&#123;0%,100%&#123;-webkit-transform:scale(0);transform:scale(0)&#125;50%&#123;-webkit-transform:scale(1);transform:scale(1)&#125;&#125;@keyframes loader-10-2&#123;0%,100%&#123;-webkit-transform:scale(0);transform:scale(0)&#125;50%&#123;-webkit-transform:scale(1);transform:scale(1)&#125;&#125;.loader-11&#123;background-color:currentcolor;-webkit-animation:loader-11 1.2s infinite ease-in-out;animation:loader-11 1.2s infinite ease-in-out&#125;@-webkit-keyframes loader-11&#123;0%&#123;-webkit-transform:perspective(120px) rotateX(0deg) rotateY(0deg);transform:perspective(120px) rotateX(0deg) rotateY(0deg)&#125;50%&#123;-webkit-transform:perspective(120px) rotateX(-180.1deg) rotateY(0deg);transform:perspective(120px) rotateX(-180.1deg) rotateY(0deg)&#125;100%&#123;-webkit-transform:perspective(120px) rotateX(-180deg) rotateY(-179.9deg);transform:perspective(120px) rotateX(-180deg) rotateY(-179.9deg)&#125;&#125;@keyframes loader-11&#123;0%&#123;-webkit-transform:perspective(120px) rotateX(0deg) rotateY(0deg);transform:perspective(120px) rotateX(0deg) rotateY(0deg)&#125;50%&#123;-webkit-transform:perspective(120px) rotateX(-180.1deg) rotateY(0deg);transform:perspective(120px) rotateX(-180.1deg) rotateY(0deg)&#125;100%&#123;-webkit-transform:perspective(120px) rotateX(-180deg) rotateY(-179.9deg);transform:perspective(120px) rotateX(-180deg) rotateY(-179.9deg)&#125;&#125;.loader-12&#123;position:relative&#125;.loader-12:before,.loader-12:after&#123;content:'';display:block;position:absolute;background-color:currentcolor;left:50%;right:0;top:0;bottom:50%;box-shadow:-.5em 0 0 currentcolor;-webkit-animation:loader-12 1s linear infinite;animation:loader-12 1s linear infinite&#125;.loader-12:after&#123;top:50%;bottom:0;-webkit-animation-delay:.25s;animation-delay:.25s&#125;@-webkit-keyframes loader-12&#123;0%,100%&#123;box-shadow:-20px 0 0 transparent;background-color:currentcolor&#125;50%&#123;box-shadow:-20px 0 0 currentcolor;background-color:transparent&#125;&#125;@keyframes loader-12&#123;0%,100%&#123;box-shadow:-20px 0 0 transparent;background-color:currentcolor&#125;50%&#123;box-shadow:-20px 0 0 currentcolor;background-color:transparent&#125;&#125;`</span>;</span><br><span class="line">  nHead.appendChild(nStyle);   </span><br><span class="line">&#125;</span><br><span class="line">JLoading.prototype.show = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> nMask = <span class="built_in">document</span>.getElementById(<span class="string">'JLoading-mask-'</span>+<span class="keyword">this</span>.loadIndex);</span><br><span class="line">  nMask.style.display = <span class="string">'block'</span>;</span><br><span class="line">&#125;</span><br><span class="line">JLoading.prototype.hide = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> nMask = <span class="built_in">document</span>.getElementById(<span class="string">'JLoading-mask-'</span>+<span class="keyword">this</span>.loadIndex);</span><br><span class="line">  nMask.style.display = <span class="string">'none'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>使用见下面代码:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">"en"</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">  &lt;meta name=<span class="string">"viewport"</span> content=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span><br><span class="line">  &lt;meta http-equiv=<span class="string">"X-UA-Compatible"</span> content=<span class="string">"ie=edge"</span>&gt;</span><br><span class="line">  &lt;title&gt;&lt;loading-test&gt;&lt;/loading-test&gt;&lt;/title&gt;</span><br><span class="line">  &lt;script src=<span class="string">"./loading-plug.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;<span class="regexp">/head&gt;</span></span><br><span class="line"><span class="regexp">&lt;body&gt;</span></span><br><span class="line"><span class="regexp">  &lt;script&gt;</span></span><br><span class="line"><span class="regexp">    var mask1 = new JLoading();</span></span><br><span class="line"><span class="regexp">    mask1.init('loader-12');</span></span><br><span class="line"><span class="regexp">    setTimeout(() =&gt; &#123;</span></span><br><span class="line"><span class="regexp">        mask1.show();</span></span><br><span class="line"><span class="regexp">    &#125;, 1000);</span></span><br><span class="line"><span class="regexp">    setTimeout(() =&gt; &#123;</span></span><br><span class="line"><span class="regexp">        mask1.hide();</span></span><br><span class="line"><span class="regexp">    &#125;, 3000);</span></span><br><span class="line"><span class="regexp">  &lt;/</span>script&gt;</span><br><span class="line">&lt;<span class="regexp">/body&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>html&gt;</span><br></pre></td></tr></table></figure></p><p>使用不同的样式，需要在mask1.init(‘loader-12’)方法中传入名字，比如’loader-02’,具体的样式名字见下图:<br><img src="/2019/09/04/一个页面loading小插件2/1.png" alt="img"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;有多种选择的loading插件&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="javascript" scheme="/categories/javascript/"/>
    
    
      <category term="移动端" scheme="/tags/%E7%A7%BB%E5%8A%A8%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>window下flutter环境搭建</title>
    <link href="/2019/08/26/window%E4%B8%8Bflutter%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"/>
    <id>/2019/08/26/window下flutter环境搭建/</id>
    <published>2019-08-26T01:26:38.000Z</published>
    <updated>2019-08-26T02:11:45.203Z</updated>
    
    <content type="html"><![CDATA[<p>flutter在window 10下的环境搭建<br><a id="more"></a></p><h1 id="window下flutter环境搭建"><a href="#window下flutter环境搭建" class="headerlink" title="window下flutter环境搭建"></a>window下flutter环境搭建</h1><p>flutter是google出的一个跨平台移动端app开发框架，据说性能已经超过了原生开发，作为一名前端，即使不深入研究，也得浅浅的看一下这是个什么东西吧，所以今天记录一下flutter在win10下的安装步骤。</p><h2 id="1-安装flutter"><a href="#1-安装flutter" class="headerlink" title="1.安装flutter"></a>1.安装flutter</h2><p>去flutter官网下载flutter的压缩包，<a href="https://flutterchina.club/setup-windows/" target="_blank" rel="noopener">flutter官网地址</a>,将压缩包解压到一个目录下，之后配置一下环境变量（这里不细说了，就是把bin目录配到系统的环境变量下），之后开启终端，运行flutter，第一次运行flutter需要去网络拉取资源，所以电脑必须得安装好了git，再有一点，由于防火墙的原因，拉取国外资源有时候不成功，所以在运行flutter之前最好配一下资源镜像路径：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export PUB_HOSTED_URL=https://pub.flutter-io.cn</span><br><span class="line">export FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn</span><br></pre></td></tr></table></figure></p><p>这两句话最好在git bash下执行哦，之后就可以运行flutter初始化了。</p><ul><li>这里注意一下，最好选择flutter的最新版本安装，因为下一步会安装android sdk，android会自动下载最新版本的，所以为了兼容，我在有的电脑中安装的flutter不是最新版本，andriod是最新的，出现了无法run的问题。</li></ul><h2 id="2-安装JDK"><a href="#2-安装JDK" class="headerlink" title="2.安装JDK"></a>2.安装JDK</h2><p>由于是android开发，所以java的sdk是必不可少的，去<a href="https://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank" rel="noopener">java sdk</a>下载，注意，一定要下载java SE 8u***版本的，其他版本不兼容，下载之后安装即可。</p><h2 id="3-安装vs-code以及flutter插件。"><a href="#3-安装vs-code以及flutter插件。" class="headerlink" title="3.安装vs code以及flutter插件。"></a>3.安装vs code以及flutter插件。</h2><h2 id="4-安装android-studio"><a href="#4-安装android-studio" class="headerlink" title="4.安装android studio"></a>4.安装android studio</h2><p><a href="https://developer.android.google.cn/studio" target="_blank" rel="noopener">下载链接</a>,下载好之后，一路下一步就可以，第一次安装需要下载android sdk，会下载很长时间，不过虽然有墙的存在，但是依然可以安装成功,如果不成功就多试几次。安装好了sdk后，软件就会自动打开，来到首页，也就是新建项目的地方，这时候可以安装android studio的flutter插件，第一次打开安装插件面板的时候会一直loading，最开始我还以为是墙的原因呢，不要着急，慢慢的等待即可。安装好了flutter插件后重启ide，重启后新建一个flutter项目，建好之后我们创建android虚拟机，点击tools-&gt;avd manager,创建一个虚拟机。创建虚拟机需要安装android的系统，非常的慢，慢慢等待吧。</p><ul><li>有的电脑安装模拟器的时候会报HAXM的安装不上错误，这是因为win10默认开启了Hyer-V微软的虚拟机，只需到服务里把它关掉即可。</li></ul><h2 id="5-以上完成之后，打开命令行，运行flutter-doctor-会有一段"><a href="#5-以上完成之后，打开命令行，运行flutter-doctor-会有一段" class="headerlink" title="5.以上完成之后，打开命令行，运行flutter doctor,会有一段"></a>5.以上完成之后，打开命令行，运行flutter doctor,会有一段</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Android toolchain - develop for Android devices (Android SDK version 29.0.2)</span><br><span class="line">   X Android licenses not accepted.  To resolve this, run: flutter doctor --android-licenses</span><br></pre></td></tr></table></figure><p>的提示，直接运行flutter doctor –android-licenses，一路y就可以。</p><p>如果顺利的话，现在就可以运行你的flutter项目了，我在自己的电脑上安装的很顺利，但是在公司的电脑上安装的很是肯可啊。</p><ul><li>还需要注意下，有的电脑会让你升级android sdk，命令行会提示你具体的路径，里边是一个.bat的文件，不用担心，.bat和.exe一样的，在cmd下一样可以在后边传参数。如果你运行的是powerShell，注意一下，执行命令需要这样<code>./manager.bat</code>。再有，升级可能会删除tools文件夹再下载，不过win10不允许程序随意删除文件，这时候需要手动删除一下（改个名字更好）。</li></ul><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>以上就是我在搭建flutter环境的时候遇到的一些状况。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;flutter在window 10下的环境搭建&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="javascript" scheme="/categories/javascript/"/>
    
    
      <category term="移动端" scheme="/tags/%E7%A7%BB%E5%8A%A8%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>nw.js入门小结</title>
    <link href="/2019/08/22/nw-js%E5%85%A5%E9%97%A8%E5%B0%8F%E7%BB%93/"/>
    <id>/2019/08/22/nw-js入门小结/</id>
    <published>2019-08-22T08:17:18.000Z</published>
    <updated>2019-08-23T01:21:03.007Z</updated>
    
    <content type="html"><![CDATA[<p>nw.js方便简单的pc端app开发工具<br><a id="more"></a></p><h1 id="nw-js入门小结"><a href="#nw-js入门小结" class="headerlink" title="nw.js入门小结"></a>nw.js入门小结</h1><p>nw.js和electron都是利用html来开发pc端应用的工具，今天我写一写nw.js的入门知识。</p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>首先，去官网下载nw，<a href="https://nwjs.io" target="_blank" rel="noopener">官网地址</a>,首页就可以看到下载地址，有两个下载，一个是normal,一个是sdk，见下图：<br><img src="/2019/08/22/nw-js入门小结/1.png" alt="img"><br>sdk是有调试功能的，生成的应用，在上面点击右键可以看到类似浏览器F12的调试面板。<br>normal就是没有调试功能的包，用于生产发布的时候用。<br>下载后不需要安装，直接解压后就可以使用。</p><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><p>在nw的sdk包解压后的文件中，新建一个app文件夹，在app文件夹中放一个index.html的页面，再建一个package.json的文件，内容是：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="string">"fullscreen"</span>: <span class="literal">true</span>,</span><br><span class="line"><span class="string">"main"</span>: <span class="string">"index.html"</span>,</span><br><span class="line"><span class="string">"name"</span>: <span class="string">"layout"</span>,</span><br><span class="line"><span class="string">"description"</span>: <span class="string">"nw学习"</span>,</span><br><span class="line"><span class="string">"version"</span>: <span class="string">"0.1.0"</span>,</span><br><span class="line"><span class="string">"keywords"</span>: [  <span class="string">"指令学习"</span>, <span class="string">"在线"</span>],</span><br><span class="line"><span class="string">"window"</span>: &#123;</span><br><span class="line"><span class="string">"title"</span>: <span class="string">"指令学习"</span>,</span><br><span class="line"><span class="string">"icon"</span>: <span class="string">"icon.png"</span>,</span><br><span class="line"><span class="string">"toolbar"</span>: <span class="literal">true</span>,</span><br><span class="line"><span class="string">"frame"</span>: <span class="literal">false</span>,</span><br><span class="line"><span class="string">"width"</span>: <span class="number">375</span>,</span><br><span class="line"><span class="string">"height"</span>: <span class="number">750</span>,</span><br><span class="line"><span class="string">"position"</span>: <span class="string">"center"</span>,</span><br><span class="line"><span class="string">"min_width"</span>: <span class="number">375</span>,</span><br><span class="line"><span class="string">"min_height"</span>: <span class="number">750</span>,</span><br><span class="line"><span class="string">"max_width"</span>: <span class="number">1920</span>,</span><br><span class="line"><span class="string">"max_height"</span>: <span class="number">1080</span>,</span><br><span class="line"><span class="string">"resizable"</span>: <span class="literal">true</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="string">"webkit"</span>: &#123;</span><br><span class="line"><span class="string">"plugin"</span>: <span class="literal">false</span>,</span><br><span class="line"><span class="string">"java"</span>: <span class="literal">false</span>,</span><br><span class="line"><span class="string">"page-cache"</span>: <span class="literal">false</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="string">"user-agent"</span>: <span class="string">"%name %ver %nwver %webkit_ver %osinfo"</span>,</span><br><span class="line"><span class="string">"chromium-args"</span>: <span class="string">"--allow-file-access-from-files"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// main属性是关键，指的是入口文件的位置</span></span><br></pre></td></tr></table></figure></p><p>准备工作完毕，目录结构见下图：<br><img src="/2019/08/22/nw-js入门小结/2.png" alt="img"><br>将app文件夹拖拽到nw.exe上即可打开应用进行开发调试。</p><h2 id="打包发布"><a href="#打包发布" class="headerlink" title="打包发布"></a>打包发布</h2><p>如果开发完了之后，给别人用，就需要进行打包了。<br>首先将app文件夹压缩，比如压缩成app.zip文件，之后改名为app.nw文件。<br>打包需要在命令行下进行，打开cmd命令行（注意，这里只能用cmd，gitBash和powerShell都不好使哦），切换到当前目录，执行下面的命令:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">copy /b nw.exe+app.nw app.exe</span><br></pre></td></tr></table></figure></p><p><img src="/2019/08/22/nw-js入门小结/3.png" alt="img"><br>可以看到，app.exe就是打包出来的可执行文件，这时候直接点击它就可以运行程序了。</p><ul><li>把这个app.exe文件复制到normal的运行文件夹下，也可以点击运行，这时其实就是一个绿色版的应用程序了，完全可以交付给客户使用了。</li><li>如果感觉一堆文件看起来不舒服，还可以使用enigmavirtualbox工具进行打包成一个.exe的文件，不过这个文件一般都比较大哦。</li><li>最后一种方法，innosetup工具，可以制作成安装版本，这样体积就小了。</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;nw.js方便简单的pc端app开发工具&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="javascript" scheme="/categories/javascript/"/>
    
    
      <category term="工具库" scheme="/tags/%E5%B7%A5%E5%85%B7%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>前端静态资源服务器都用到了啥？</title>
    <link href="/2019/08/22/%E5%89%8D%E7%AB%AF%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%BD%E7%94%A8%E5%88%B0%E4%BA%86%E5%95%A5%EF%BC%9F/"/>
    <id>/2019/08/22/前端静态资源服务器都用到了啥？/</id>
    <published>2019-08-22T06:45:46.000Z</published>
    <updated>2019-08-22T07:03:14.115Z</updated>
    
    <content type="html"><![CDATA[<p>前端都用到了哪些技术实现静态资源服务器<br><a id="more"></a></p><h1 id="前端静态资源服务器都用到了啥？"><a href="#前端静态资源服务器都用到了啥？" class="headerlink" title="前端静态资源服务器都用到了啥？"></a>前端静态资源服务器都用到了啥？</h1><p>平时我们在开发的时候，肯定会自己架一个服务，把网页放进去，再跑，那么，我们平时都用到了哪些手段来实现呢？</p><h2 id="http-server"><a href="#http-server" class="headerlink" title="http-server"></a>http-server</h2><p><a href="https://www.npmjs.com/package/http-server" target="_blank" rel="noopener">官网</a>,使用起来很方便。</p><h2 id="browser-sync"><a href="#browser-sync" class="headerlink" title="browser-sync"></a>browser-sync</h2><p><a href="http://www.browsersync.cn" target="_blank" rel="noopener">官网</a>,功能非常之强大。</p><h2 id="nginx"><a href="#nginx" class="headerlink" title="nginx"></a>nginx</h2><p><a href="http://nginx.org/en/download.html" target="_blank" rel="noopener">官网下载</a>,nginx可是现在静态资源服务器中响应速度最快的了，如果在生产环境下，还是使用nginx吧。</p><h2 id="apache"><a href="#apache" class="headerlink" title="apache"></a>apache</h2><p>nginx出来之前大家都用，现在基本上没人用了，淘汰掉。</p><h2 id="webpack-dev"><a href="#webpack-dev" class="headerlink" title="webpack-dev"></a>webpack-dev</h2><p>这个其实是webpack的一个插件，我们在开发react，vue，angular的时候会用到它。</p><h2 id="express-amp-koa"><a href="#express-amp-koa" class="headerlink" title="express&amp;koa"></a>express&amp;koa</h2><p>express和koa中都有静态资源的中间件，用起来就是麻烦些。</p><h2 id="nodejs"><a href="#nodejs" class="headerlink" title="nodejs"></a>nodejs</h2><p>最后就是可以利用nodejs的http模块手写一个静态资源服务器。 </p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;前端都用到了哪些技术实现静态资源服务器&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="javascript" scheme="/categories/javascript/"/>
    
    
      <category term="网络基础" scheme="/tags/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/"/>
    
  </entry>
  
  <entry>
    <title>移动端设置root font-size代码</title>
    <link href="/2019/08/18/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E8%AE%BE%E7%BD%AEroot-font-size%E4%BB%A3%E7%A0%81/"/>
    <id>/2019/08/18/移动端设置root-font-size代码/</id>
    <published>2019-08-18T05:16:50.000Z</published>
    <updated>2019-08-18T05:19:07.887Z</updated>
    
    <content type="html"><![CDATA[<p>移动端设置html元素的font-size代码，方便使用rem<br><a id="more"></a></p><h1 id="移动端设置root-font-size代码"><a href="#移动端设置root-font-size代码" class="headerlink" title="移动端设置root font-size代码"></a>移动端设置root font-size代码</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">doc, win</span>) </span>&#123;</span><br><span class="line"><span class="keyword">var</span> docEl = doc.documentElement,</span><br><span class="line">resizeEvt = <span class="string">'orientationchange'</span> <span class="keyword">in</span> <span class="built_in">window</span> ? <span class="string">'orientationchange'</span> : <span class="string">'resize'</span>,</span><br><span class="line">recalc = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> clientWidth = docEl.clientWidth;</span><br><span class="line">  <span class="keyword">if</span> (!clientWidth) <span class="keyword">return</span>;</span><br><span class="line">  docEl.style.fontSize = clientWidth/<span class="number">20</span> + <span class="string">'px'</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">if</span> (!doc.addEventListener) <span class="keyword">return</span>;</span><br><span class="line">win.addEventListener(resizeEvt, recalc, <span class="literal">false</span>);</span><br><span class="line">doc.addEventListener(<span class="string">'DOMContentLoaded'</span>, recalc, <span class="literal">false</span>);</span><br><span class="line">&#125;)(<span class="built_in">document</span>, <span class="built_in">window</span>);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;移动端设置html元素的font-size代码，方便使用rem&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="javascript" scheme="/categories/javascript/"/>
    
    
      <category term="移动端" scheme="/tags/%E7%A7%BB%E5%8A%A8%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>一个页面loading小插件</title>
    <link href="/2019/08/18/%E4%B8%80%E4%B8%AA%E9%A1%B5%E9%9D%A2loading%E5%B0%8F%E6%8F%92%E4%BB%B6/"/>
    <id>/2019/08/18/一个页面loading小插件/</id>
    <published>2019-08-18T04:44:28.000Z</published>
    <updated>2019-08-18T05:10:53.959Z</updated>
    
    <content type="html"><![CDATA[<p>移动端的loading小插件<br><a id="more"></a></p><h1 id="一个页面loading小插件"><a href="#一个页面loading小插件" class="headerlink" title="一个页面loading小插件"></a>一个页面loading小插件</h1><p>这是一个移动端的loading蒙版，细节不说了，为了以后备用，直接上代码了。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @description 一个页面加载的loading小插件</span></span><br><span class="line"><span class="comment"> * @description 注意，引用的时候一定要放到html文档的最后，因为需要向body插入内容，这里没有使用document的DOMContentLoaded，和window的loaded也是为了loading效果能够最快速的显示。</span></span><br><span class="line"><span class="comment"> * @description 这里css用到了rem，需要注意。</span></span><br><span class="line"><span class="comment"> * @method window.showLoadingEarth() 显示</span></span><br><span class="line"><span class="comment"> * @method window.hideLoadingEarth() 隐藏</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">win</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">window</span>.showLoadingEarth = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    nDiv.style.display = <span class="string">'block'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">window</span>.hideLoadingEarth = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    nDiv.style.display = <span class="string">'none'</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> templateStr = <span class="string">`&lt;div class="loading-inner"&gt;</span></span><br><span class="line"><span class="string">                        &lt;span class="dong"&gt;&lt;/span&gt;</span></span><br><span class="line"><span class="string">                        &lt;strong class="dong"&gt;&lt;/strong&gt;</span></span><br><span class="line"><span class="string">                        &lt;em&gt;&lt;/em&gt;</span></span><br><span class="line"><span class="string">                      &lt;/div&gt;`</span>;</span><br><span class="line">  <span class="keyword">var</span> cssStr = <span class="string">`#loading-earth &#123;</span></span><br><span class="line"><span class="string">                  display: none;</span></span><br><span class="line"><span class="string">                  position: absolute;</span></span><br><span class="line"><span class="string">                  width: 100%;</span></span><br><span class="line"><span class="string">                  height: 100%;</span></span><br><span class="line"><span class="string">                  top: 0;</span></span><br><span class="line"><span class="string">                  left: 0;</span></span><br><span class="line"><span class="string">                  background-color: rgba(0,0,0,.8);</span></span><br><span class="line"><span class="string">                  z-index: 999;</span></span><br><span class="line"><span class="string">                &#125;</span></span><br><span class="line"><span class="string">                #loading-earth .loading-inner &#123;</span></span><br><span class="line"><span class="string">                  width: 4rem;</span></span><br><span class="line"><span class="string">                  height: 4rem;</span></span><br><span class="line"><span class="string">                  /* background-color: #ffffff; */</span></span><br><span class="line"><span class="string">                  position: absolute;</span></span><br><span class="line"><span class="string">                  top: 50%;</span></span><br><span class="line"><span class="string">                  left: 50%;</span></span><br><span class="line"><span class="string">                  transform: translate(-50%,-50%);</span></span><br><span class="line"><span class="string">                &#125;</span></span><br><span class="line"><span class="string">                #loading-earth .loading-inner span &#123;</span></span><br><span class="line"><span class="string">                  display: inline-block;</span></span><br><span class="line"><span class="string">                  width: 3.6rem;</span></span><br><span class="line"><span class="string">                  height: 3.6rem;</span></span><br><span class="line"><span class="string">                  background-image: url('data:image/png;base64,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');</span></span><br><span class="line"><span class="string">                  background-size: 100% 100%;</span></span><br><span class="line"><span class="string">                  position: absolute;</span></span><br><span class="line"><span class="string">                  top: 0.2rem;</span></span><br><span class="line"><span class="string">                  left: 0.2rem;</span></span><br><span class="line"><span class="string">                &#125;</span></span><br><span class="line"><span class="string">                #loading-earth .loading-inner strong &#123;</span></span><br><span class="line"><span class="string">                  display: inline-block;</span></span><br><span class="line"><span class="string">                  width: 4.4rem;</span></span><br><span class="line"><span class="string">                  height: 4.4rem;</span></span><br><span class="line"><span class="string">                  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOwAAADsCAYAAAB300oUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MUIwQTYzQUE3QzY1MTFFOUI2MTBCNUY1MUM1NkE0N0IiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MUIwQTYzQTk3QzY1MTFFOUI2MTBCNUY1MUM1NkE0N0IiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTNDMUY2RDY2OTc3MTFFOUExOEY4RENGRjlFNzIwMzEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTNDMUY2RDc2OTc3MTFFOUExOEY4RENGRjlFNzIwMzEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz51xfIrAAAF60lEQVR42uzd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');</span></span><br><span class="line"><span class="string">                  background-size: 100% 100%;</span></span><br><span class="line"><span class="string">                  position: absolute;</span></span><br><span class="line"><span class="string">                  top: -0.2rem;</span></span><br><span class="line"><span class="string">                  left: -0.2rem;</span></span><br><span class="line"><span class="string">                  /* transform: rotateZ(10deg); */</span></span><br><span class="line"><span class="string">                &#125;</span></span><br><span class="line"><span class="string">                #loading-earth .loading-inner em &#123;</span></span><br><span class="line"><span class="string">                  display: inline-block;</span></span><br><span class="line"><span class="string">                  width: 2.4rem;</span></span><br><span class="line"><span class="string">                  height: 2.4rem;</span></span><br><span class="line"><span class="string">                  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHEAAABxCAYAAADifkzQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MDEzMkZFRjg3QzY1MTFFOUExOTVEOEFCMTlCNUY3NjUiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDEzMkZFRjc3QzY1MTFFOUExOTVEOEFCMTlCNUY3NjUiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QkNCNTcyQTZGRjc1MTFFODhDMkFBOUYyRUM3RDc4QTYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QkNCNTcyQTdGRjc1MTFFODhDMkFBOUYyRUM3RDc4QTYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6mADWiAAAVBklEQVR42uxd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');</span></span><br><span class="line"><span class="string">                  background-size: 100% 100%;</span></span><br><span class="line"><span class="string">                  position: absolute;</span></span><br><span class="line"><span class="string">                  top: 0.8rem;</span></span><br><span class="line"><span class="string">                  left: 0.8rem;</span></span><br><span class="line"><span class="string">                &#125;</span></span><br><span class="line"><span class="string">                #loading-earth .dong&#123;</span></span><br><span class="line"><span class="string">                  -webkit-animation:animations 2s linear infinite ;</span></span><br><span class="line"><span class="string">                  -moz-animation:animations 2s linear infinite ;</span></span><br><span class="line"><span class="string">                  -o-animation:animations 2s linear infinite ;</span></span><br><span class="line"><span class="string">                  -ms-animation:animations 2s linear infinite ;</span></span><br><span class="line"><span class="string">                  animation:animations 2s linear infinite ;</span></span><br><span class="line"><span class="string">                &#125;</span></span><br><span class="line"><span class="string">                @-webkit-keyframes animations&#123;</span></span><br><span class="line"><span class="string">                  0%&#123;-webkit-transform:rotateZ(0deg)&#125;</span></span><br><span class="line"><span class="string">                  10%&#123;-webkit-transform:rotateZ(36deg)&#125;</span></span><br><span class="line"><span class="string">                  20%&#123;-webkit-transform:rotateZ(72deg)&#125;</span></span><br><span class="line"><span class="string">                  30%&#123;-webkit-transform:rotateZ(108deg)&#125;</span></span><br><span class="line"><span class="string">                  40%&#123;-webkit-transform:rotateZ(144eg)&#125;</span></span><br><span class="line"><span class="string">                  50%&#123;-webkit-transform:rotateZ(180deg)&#125;</span></span><br><span class="line"><span class="string">                  60%&#123;-webkit-transform:rotateZ(216deg)&#125;</span></span><br><span class="line"><span class="string">                  70%&#123;-webkit-transform:rotateZ(252deg)&#125;</span></span><br><span class="line"><span class="string">                  80%&#123;-webkit-transform:rotateZ(288deg)&#125;</span></span><br><span class="line"><span class="string">                  90%&#123;-webkit-transform:rotateZ(324deg)&#125;</span></span><br><span class="line"><span class="string">                  100%&#123;-webkit-transform:rotateZ(360deg)&#125;</span></span><br><span class="line"><span class="string">                &#125;`</span></span><br><span class="line">  <span class="comment">// 创建div和style节点</span></span><br><span class="line">  <span class="keyword">var</span> nDiv = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>),</span><br><span class="line">      nStyle = <span class="built_in">document</span>.createElement(<span class="string">'style'</span>);</span><br><span class="line">  <span class="comment">// 给div和style添加模板内容</span></span><br><span class="line">  nDiv.setAttribute(<span class="string">'id'</span>, <span class="string">'loading-earth'</span>);</span><br><span class="line">  nDiv.innerHTML = templateStr;</span><br><span class="line">  nStyle.setAttribute(<span class="string">'type'</span>, <span class="string">'text/css'</span>);</span><br><span class="line">  nStyle.innerHTML = cssStr;</span><br><span class="line">  <span class="comment">// 获取head， body节点元素</span></span><br><span class="line">  <span class="keyword">var</span> nBody = <span class="built_in">document</span>.body,</span><br><span class="line">      nHead = <span class="built_in">document</span>.head;</span><br><span class="line">  <span class="comment">// 添加这两个节点元素</span></span><br><span class="line">  nHead.appendChild(nStyle);</span><br><span class="line">  nBody.appendChild(nDiv);</span><br><span class="line">&#125;)(<span class="built_in">window</span>)</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;移动端的loading小插件&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="javascript" scheme="/categories/javascript/"/>
    
    
      <category term="移动端" scheme="/tags/%E7%A7%BB%E5%8A%A8%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>js中的valueOf和toString</title>
    <link href="/2019/08/02/js%E4%B8%AD%E7%9A%84valueOf%E5%92%8CtoString/"/>
    <id>/2019/08/02/js中的valueOf和toString/</id>
    <published>2019-08-02T01:52:26.000Z</published>
    <updated>2019-08-02T02:09:39.167Z</updated>
    
    <content type="html"><![CDATA[<p>js中的valueOf和toString<br><a id="more"></a></p><h1 id="js中的valueOf和toString"><a href="#js中的valueOf和toString" class="headerlink" title="js中的valueOf和toString"></a>js中的valueOf和toString</h1><p>valueOf和toSring两个函数是除null和undefined两种数据类型以外其他五种数据类型（number/string/bool/object/symbol）原型链上共有的函数，那么这两个函数主要是用来干什么的呢？司徒正美大神给出的答案是：值运算和显示问题，一般在隐式类型转换时会自动调用(经典面试题见备注3)。</p><h2 id="例1："><a href="#例1：" class="headerlink" title="例1："></a>例1：</h2><p>如果同时重写了valueOf和toString方法：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> aaa = &#123;</span><br><span class="line">  i: <span class="number">10</span>,</span><br><span class="line">  valueOf: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; </span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'valueOf'</span>)</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.i+<span class="number">30</span>; </span><br><span class="line">  &#125;,</span><br><span class="line">  toString: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; </span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'toString'</span>)</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.i+<span class="number">10</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"> <span class="built_in">console</span>.log(aaa &gt; <span class="number">20</span>); <span class="comment">// valueOf  true</span></span><br><span class="line"> <span class="built_in">console</span>.log(<span class="string">''</span> + aaa);  <span class="comment">//  valueOf  40</span></span><br><span class="line"> <span class="built_in">console</span>.log(++aaa); <span class="comment">// valueOf  41</span></span><br><span class="line"> <span class="built_in">console</span>.log(+aaa); <span class="comment">//  valueOf  40</span></span><br><span class="line"> alert(aaa); <span class="comment">// toString 20</span></span><br><span class="line"> <span class="built_in">console</span>.log(aaa == <span class="number">40</span>) <span class="comment">//valueOf true</span></span><br><span class="line"> <span class="built_in">console</span>.log(<span class="built_in">String</span>(aaa)) <span class="comment">// toString 20</span></span><br></pre></td></tr></table></figure></p><p>总结：涉及到操作符的问题，valueOf的优先级比toString的优先级高，涉及到显示问题，toString方法优先级比valueOf方法高。</p><h2 id="例2："><a href="#例2：" class="headerlink" title="例2："></a>例2：</h2><p>如果只是重写了toString方法：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> aaa = &#123;</span><br><span class="line">  i: <span class="number">10</span>,</span><br><span class="line">  toString: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; </span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'toString'</span>)</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.i+<span class="number">10</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"> <span class="built_in">console</span>.log(aaa &gt; <span class="number">20</span>); <span class="comment">// toString false</span></span><br><span class="line"> <span class="built_in">console</span>.log(<span class="string">''</span> + aaa);  <span class="comment">//  toString 20</span></span><br><span class="line"> <span class="built_in">console</span>.log(++aaa); <span class="comment">// toString 21</span></span><br><span class="line"> <span class="built_in">console</span>.log(+aaa); <span class="comment">//  toSring 20</span></span><br><span class="line"> alert(aaa); <span class="comment">// toString 20</span></span><br><span class="line"> <span class="built_in">console</span>.log(aaa == <span class="number">20</span>) <span class="comment">//toString true</span></span><br><span class="line"> <span class="built_in">console</span>.log(<span class="built_in">String</span>(aaa)) <span class="comment">// toString 20</span></span><br></pre></td></tr></table></figure></p><p>总结：只重写了toString方法的话，toString方法比原型链上的valueOf方法优先级高。</p><h2 id="例3"><a href="#例3" class="headerlink" title="例3"></a>例3</h2><p>如果只重写了valueOf方法：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> aaa = &#123;</span><br><span class="line">  i: <span class="number">10</span>,</span><br><span class="line">  valueOf: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; </span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'valueOf'</span>)</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.i+<span class="number">30</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"> <span class="built_in">console</span>.log(aaa &gt; <span class="number">20</span>); <span class="comment">// valueOf true</span></span><br><span class="line"> <span class="built_in">console</span>.log(<span class="string">''</span> + aaa);  <span class="comment">//  valueOf 40</span></span><br><span class="line"> <span class="built_in">console</span>.log(++aaa); <span class="comment">// valueOf 41</span></span><br><span class="line"> <span class="built_in">console</span>.log(+aaa); <span class="comment">//  valueOf 40</span></span><br><span class="line"> alert(aaa); <span class="comment">// [object Object]</span></span><br><span class="line"> <span class="built_in">console</span>.log(aaa == <span class="number">20</span>) <span class="comment">//valueOf false</span></span><br><span class="line"> <span class="built_in">console</span>.log(<span class="built_in">String</span>(aaa)) <span class="comment">// [object Object]</span></span><br></pre></td></tr></table></figure></p><p>总结：只重写了valueOf方法的话，涉及到值运算优先调用valueOf方法，涉及到显示问题还是优先调用原型链上的toString方法。</p><h2 id="备注"><a href="#备注" class="headerlink" title="备注"></a>备注</h2><p>针对一般没有对valueOf和toString方法进行重写的情况：<br>1.对除null和undefined(这两种类型的原型上没有valueOf方法)以外的数据类型调用valueOf方法，得到的都是数据本身。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span></span><br><span class="line"><span class="keyword">var</span> aa = a.valueOf()</span><br><span class="line">aa === a <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b = <span class="string">'a'</span></span><br><span class="line"><span class="keyword">var</span> bb = b.valueOf()</span><br><span class="line">bb ===b <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> c = <span class="literal">true</span></span><br><span class="line"><span class="keyword">var</span> cc = c.valueOf()</span><br><span class="line">cc === c <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">name</span>: <span class="string">'age'</span>&#125;</span><br><span class="line"><span class="keyword">var</span> objobj = obj.valueOf()</span><br><span class="line">obj === objobj <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> s = <span class="built_in">Symbol</span>()</span><br><span class="line"><span class="keyword">var</span> ss = s.valueOf()</span><br><span class="line">ss === s <span class="comment">//true</span></span><br></pre></td></tr></table></figure></p><p>2.对number/string/bool/symbol类型数据调用toString方法得到的是对应的字符串，对object类型数据调用toString的方法得到的是”[object Object]”，null和undefined两种数据类型的原型链上没有toString方法。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> aaa = a.toString() <span class="comment">// "1"</span></span><br><span class="line"><span class="keyword">var</span> bbb = b.toString() <span class="comment">// "a"</span></span><br><span class="line"><span class="keyword">var</span> ccc = c.toString() <span class="comment">// "true"</span></span><br><span class="line"><span class="keyword">var</span> objobjobj = obj.toString() <span class="comment">//"[object Object]"</span></span><br><span class="line"><span class="keyword">var</span> sss = s.toString() <span class="comment">//"Symbol()"</span></span><br></pre></td></tr></table></figure></p><p>3.也可以得到一个经典前端面试题的一种解法,如何能够使得下列的表达式返回true<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a==<span class="number">1</span> &amp;&amp; a==<span class="number">2</span> &amp;&amp; a==<span class="number">3</span></span><br></pre></td></tr></table></figure></p><p>解法如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123;</span><br><span class="line">i: <span class="number">1</span>,</span><br><span class="line">valueOf: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span> a.i++</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">a==<span class="number">1</span> &amp;&amp; a==<span class="number">2</span> &amp;&amp; a==<span class="number">3</span> <span class="comment">//返回true</span></span><br></pre></td></tr></table></figure></p><p>以上重写了valueOf函数，比较运算时会优先调用该函数。当然，如果重写toString方法的话，比较运算也会优先调用该toString函数，因此可以到达同样的效果。<br>还有其他一种常见的解法：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> val = <span class="number">1</span></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(<span class="built_in">window</span>, <span class="string">'a'</span>, &#123;</span><br><span class="line">get() &#123;</span><br><span class="line"><span class="keyword">return</span> val++</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line">a==<span class="number">1</span> &amp;&amp; a==<span class="number">2</span> &amp;&amp; a==<span class="number">3</span> <span class="comment">//同样返回true</span></span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;js中的valueOf和toString&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="javascript" scheme="/categories/javascript/"/>
    
    
      <category term="基础知识" scheme="/tags/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    
  </entry>
  
  <entry>
    <title>js读取和导出excel文件</title>
    <link href="/2019/07/31/js%E8%AF%BB%E5%8F%96%E5%92%8C%E5%AF%BC%E5%87%BAexcel%E6%96%87%E4%BB%B6/"/>
    <id>/2019/07/31/js读取和导出excel文件/</id>
    <published>2019-07-31T08:29:45.000Z</published>
    <updated>2019-08-01T07:22:35.159Z</updated>
    
    <content type="html"><![CDATA[<p>javascript对excel文件进行导入导出的处理<br><a id="more"></a></p><h1 id="js读取和导出excel文件"><a href="#js读取和导出excel文件" class="headerlink" title="js读取和导出excel文件"></a>js读取和导出excel文件</h1><h2 id="js-xlsx-介绍"><a href="#js-xlsx-介绍" class="headerlink" title="js-xlsx 介绍"></a>js-xlsx 介绍</h2><p>由SheetJS出品的js-xlsx是一款非常方便的只需要纯JS即可读取和导出excel的工具库，功能强大，支持格式众多，支持xls、xlsx、ods(一种OpenOffice专有表格文件格式)等十几种格式。本文全部都是以xlsx格式为例。</p><ul><li>官方github：<a href="https://github.com/SheetJS/js-xlsx" target="_blank" rel="noopener">https://github.com/SheetJS/js-xlsx</a></li><li>本文配套demo：<a href="https://github.com/jinux7/study-collections/tree/master/js处理excel之js-xlsx" target="_blank" rel="noopener">点这里</a><h3 id="兼容性"><a href="#兼容性" class="headerlink" title="兼容性"></a>兼容性</h3>见下图：<br><img src="/2019/07/31/js读取和导出excel文件/1.png" alt="img"><h3 id="如何使用"><a href="#如何使用" class="headerlink" title="如何使用"></a>如何使用</h3>dist目录下有很多个JS文件，一般情况下用xlsx.core.min.js就够了，xlsx.full.min.js则是包含了所有功能模块。<br><img src="/2019/07/31/js读取和导出excel文件/2.png" alt="img"><br>直接script标签引入即可：<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span> src=<span class="string">"./js/xlsx.core.min.js"</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure></li></ul><h2 id="读取excel"><a href="#读取excel" class="headerlink" title="读取excel"></a>读取excel</h2><p>读取excel主要是通过XLSX.read(data, {type: type});方法来实现，返回一个叫WorkBook的对象，type主要取值如下：</p><ul><li>base64: 以base64方式读取；</li><li>binary: BinaryString格式(byte n is data.charCodeAt(n))</li><li>string: UTF8编码的字符串；</li><li>buffer: nodejs Buffer；</li><li>array: Uint8Array，8位无符号数组；</li><li>file: 文件的路径（仅nodejs下支持）；</li></ul><h3 id="获取workbook对象"><a href="#获取workbook对象" class="headerlink" title="获取workbook对象"></a>获取workbook对象</h3><h4 id="读取本地文件"><a href="#读取本地文件" class="headerlink" title="读取本地文件"></a>读取本地文件</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 读取本地excel文件</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">readWorkbookFromLocalFile</span>(<span class="params">file, callback</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> reader = <span class="keyword">new</span> FileReader();</span><br><span class="line">    reader.onload = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> data = e.target.result;</span><br><span class="line">        <span class="keyword">var</span> workbook = XLSX.read(data, &#123;<span class="attr">type</span>: <span class="string">'binary'</span>&#125;);</span><br><span class="line">        <span class="keyword">if</span>(callback) callback(workbook);</span><br><span class="line">    &#125;;</span><br><span class="line">    reader.readAsBinaryString(file);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="读取网络文件"><a href="#读取网络文件" class="headerlink" title="读取网络文件"></a>读取网络文件</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 从网络上读取某个excel文件，url必须同域，否则报错</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">readWorkbookFromRemoteFile</span>(<span class="params">url, callback</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">    xhr.open(<span class="string">'get'</span>, url, <span class="literal">true</span>);</span><br><span class="line">    xhr.responseType = <span class="string">'arraybuffer'</span>;</span><br><span class="line">    xhr.onload = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(xhr.status == <span class="number">200</span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> data = <span class="keyword">new</span> <span class="built_in">Uint8Array</span>(xhr.response)</span><br><span class="line">            <span class="keyword">var</span> workbook = XLSX.read(data, &#123;<span class="attr">type</span>: <span class="string">'array'</span>&#125;);</span><br><span class="line">            <span class="keyword">if</span>(callback) callback(workbook);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    xhr.send();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="详解-workbook"><a href="#详解-workbook" class="headerlink" title="详解 workbook"></a>详解 workbook</h3><h4 id="Workbook-Object"><a href="#Workbook-Object" class="headerlink" title="Workbook Object"></a>Workbook Object</h4><p>workbook里面有什么东西呢，我们打印出来看一下：<br><img src="/2019/07/31/js读取和导出excel文件/3.png" alt="img"><br>可以看到，SheetNames里面保存了所有的sheet名字，然后Sheets则保存了每个sheet的具体内容（我们称之为Sheet Object）。每一个sheet是通过类似A1这样的键值保存每个单元格的内容，我们称之为单元格对象（Cell Object）：<br><img src="/2019/07/31/js读取和导出excel文件/4.png" alt="img"></p><h4 id="Sheet-Object"><a href="#Sheet-Object" class="headerlink" title="Sheet Object"></a>Sheet Object</h4><p>每一个Sheet Object表示一张表格，只要不是!开头的都表示普通cell，否则，表示一些特殊含义，具体如下：</p><ul><li>sheet[‘!ref’]：表示所有单元格的范围，例如从A1到F8则记录为A1:F8；</li><li>sheet[!merges]：存放一些单元格合并信息，是一个数组，每个数组由包含s和e构成的对象组成，s表示开始，e表示结束，r表示行，c表示列；</li><li>等等；</li></ul><p>关于单元格合并，看懂下面这张图基本上就没问题了：<br><img src="/2019/07/31/js读取和导出excel文件/5.png" alt="img"><br>结果如下：<br><img src="/2019/07/31/js读取和导出excel文件/6.png" alt="img"></p><h4 id="单元格对象"><a href="#单元格对象" class="headerlink" title="单元格对象"></a>单元格对象</h4><p>每一个单元格是一个对象（Cell Object），主要有t、v、r、h、w等字段（详见这里）：</p><ul><li>t：表示内容类型，s表示string类型，n表示number类型，b表示boolean类型，d表示date类型，等等</li><li>v：表示原始值；</li><li>f：表示公式，如B2+B3；</li><li>h：HTML内容</li><li>w：格式化后的内容</li><li>r：富文本内容rich text</li><li>等等</li></ul><h4 id="读取workbook"><a href="#读取workbook" class="headerlink" title="读取workbook"></a>读取workbook</h4><p>普通方法：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 读取 excel文件</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">outputWorkbook</span>(<span class="params">workbook</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> sheetNames = workbook.SheetNames; <span class="comment">// 工作表名称集合</span></span><br><span class="line">    sheetNames.forEach(<span class="function"><span class="params">name</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> worksheet = workbook.Sheets[name]; <span class="comment">// 只能通过工作表名称来获取指定工作表</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">in</span> worksheet) &#123;</span><br><span class="line">            <span class="comment">// v是读取单元格的原始值</span></span><br><span class="line">            <span class="built_in">console</span>.log(key, key[<span class="number">0</span>] === <span class="string">'!'</span> ? worksheet[key] : worksheet[key].v);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>根据!ref确定excel的范围，再根据!merges确定单元格合并（如果有），最后输出整个table，比较麻烦，幸运的是，插件自身已经写好工具类XLSX.utils给我们直接使用，无需我们自己遍历，工具类输出主要包括如下：<br><img src="/2019/07/31/js读取和导出excel文件/7.png" alt="img"><br>有些不常用，常用的主要是：</p><ul><li>XLSX.utils.sheet_to_csv：生成CSV格式</li><li>XLSX.utils.sheet_to_txt：生成纯文本格式</li><li>XLSX.utils.sheet_to_html：生成HTML格式</li><li>XLSX.utils.sheet_to_json：输出JSON格式</li></ul><p>常用的主要是sheet_to_csv或者sheet_to_html，转csv的话会忽略格式、单元格合并等信息，所以复杂表格可能不适用。转html的话会保留单元格合并，但是生成的是<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">``` javascript</span><br><span class="line">function readWorkbook(workbook)</span><br><span class="line">&#123;</span><br><span class="line">    var sheetNames = workbook.SheetNames; // 工作表名称集合</span><br><span class="line">    var worksheet = workbook.Sheets[sheetNames[0]]; // 这里我们只读取第一张sheet</span><br><span class="line">    var csv = XLSX.utils.sheet_to_csv(worksheet);</span><br><span class="line">    document.getElementById(&apos;result&apos;).innerHTML = csv2table(csv);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 将csv转换成简单的表格，会忽略单元格合并，在第一行和第一列追加类似excel的索引</span><br><span class="line">function csv2table(csv)</span><br><span class="line">&#123;</span><br><span class="line">    var html = &apos;&lt;table&gt;&apos;;</span><br><span class="line">    var rows = csv.split(&apos;\n&apos;);</span><br><span class="line">    rows.pop(); // 最后一行没用的</span><br><span class="line">    rows.forEach(function(row, idx) &#123;</span><br><span class="line">        var columns = row.split(&apos;,&apos;);</span><br><span class="line">        columns.unshift(idx+1); // 添加行索引</span><br><span class="line">        if(idx == 0) &#123; // 添加列索引</span><br><span class="line">            html += &apos;&lt;tr&gt;&apos;;</span><br><span class="line">            for(var i=0; i&lt;columns.length; i++) &#123;</span><br><span class="line">                html += &apos;&lt;th&gt;&apos; + (i==0?&apos;&apos;:String.fromCharCode(65+i-1)) + &apos;&lt;/th&gt;&apos;;</span><br><span class="line">            &#125;</span><br><span class="line">            html += &apos;&lt;/tr&gt;&apos;;</span><br><span class="line">        &#125;</span><br><span class="line">        html += &apos;&lt;tr&gt;&apos;;</span><br><span class="line">        columns.forEach(function(column) &#123;</span><br><span class="line">            html += &apos;&lt;td&gt;&apos;+column+&apos;&lt;/td&gt;&apos;;</span><br><span class="line">        &#125;);</span><br><span class="line">        html += &apos;&lt;/tr&gt;&apos;;</span><br><span class="line">    &#125;);</span><br><span class="line">    html += &apos;&lt;/table&gt;&apos;;</span><br><span class="line">    return html;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="导出excel"><a href="#导出excel" class="headerlink" title="导出excel"></a>导出excel</h2><p>导出分为2种，一种是基于现有excel修改，一种是全新生成，前者比较简单，我们这里着重讲后者。</p><h3 id="自己手写代码生成"><a href="#自己手写代码生成" class="headerlink" title="自己手写代码生成"></a>自己手写代码生成</h3><p>导出excel文件，主要是如何生成一个sheet，我们这里写一个最简单的csv转excel示例：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// csv转sheet对象</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">csv2sheet</span>(<span class="params">csv</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> sheet = &#123;&#125;; <span class="comment">// 将要生成的sheet</span></span><br><span class="line">    csv = csv.split(<span class="string">'\n'</span>);</span><br><span class="line">    csv.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">row, i</span>) </span>&#123;</span><br><span class="line">        row = row.split(<span class="string">','</span>);</span><br><span class="line">        <span class="keyword">if</span>(i == <span class="number">0</span>) sheet[<span class="string">'!ref'</span>] = <span class="string">'A1:'</span>+<span class="built_in">String</span>.fromCharCode(<span class="number">65</span>+row.length<span class="number">-1</span>)+(csv.length<span class="number">-1</span>);</span><br><span class="line">        row.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">col, j</span>) </span>&#123;</span><br><span class="line">            sheet[<span class="built_in">String</span>.fromCharCode(<span class="number">65</span>+j)+(i+<span class="number">1</span>)] = &#123;<span class="attr">v</span>: col&#125;;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> sheet;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将一个sheet转成最终的excel文件的blob对象，然后利用URL.createObjectURL下载</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sheet2blob</span>(<span class="params">sheet, sheetName</span>) </span>&#123;</span><br><span class="line">    sheetName = sheetName || <span class="string">'sheet1'</span>;</span><br><span class="line">    <span class="keyword">var</span> workbook = &#123;</span><br><span class="line">        SheetNames: [sheetName],</span><br><span class="line">        Sheets: &#123;&#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    workbook.Sheets[sheetName] = sheet;</span><br><span class="line">    <span class="comment">// 生成excel的配置项</span></span><br><span class="line">    <span class="keyword">var</span> wopts = &#123;</span><br><span class="line">        bookType: <span class="string">'xlsx'</span>, <span class="comment">// 要生成的文件类型</span></span><br><span class="line">        bookSST: <span class="literal">false</span>, <span class="comment">// 是否生成Shared String Table，官方解释是，如果开启生成速度会下降，但在低版本IOS设备上有更好的兼容性</span></span><br><span class="line">        type: <span class="string">'binary'</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">var</span> wbout = XLSX.write(workbook, wopts);</span><br><span class="line">    <span class="keyword">var</span> blob = <span class="keyword">new</span> Blob([s2ab(wbout)], &#123;<span class="attr">type</span>:<span class="string">"application/octet-stream"</span>&#125;);</span><br><span class="line">    <span class="comment">// 字符串转ArrayBuffer</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">s2ab</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> buf = <span class="keyword">new</span> <span class="built_in">ArrayBuffer</span>(s.length);</span><br><span class="line">        <span class="keyword">var</span> view = <span class="keyword">new</span> <span class="built_in">Uint8Array</span>(buf);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i!=s.length; ++i) view[i] = s.charCodeAt(i) &amp; <span class="number">0xFF</span>;</span><br><span class="line">        <span class="keyword">return</span> buf;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> blob;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>拿到上面的blob对象就可以直接下载了，参考我之前在JS弹出下载对话框里面封装好的openDownloadDialog方法：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 通用的打开下载对话框方法，没有测试过具体兼容性</span></span><br><span class="line"><span class="comment"> * @param url 下载地址，也可以是一个blob对象，必选</span></span><br><span class="line"><span class="comment"> * @param saveName 保存文件名，可选</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">openDownloadDialog</span>(<span class="params">url, saveName</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> url == <span class="string">'object'</span> &amp;&amp; url <span class="keyword">instanceof</span> Blob)</span><br><span class="line">    &#123;</span><br><span class="line">        url = URL.createObjectURL(url); <span class="comment">// 创建blob地址</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> aLink = <span class="built_in">document</span>.createElement(<span class="string">'a'</span>);</span><br><span class="line">    aLink.href = url;</span><br><span class="line">    aLink.download = saveName || <span class="string">''</span>; <span class="comment">// HTML5新增的属性，指定保存文件名，可以不要后缀，注意，file:///模式下不会生效</span></span><br><span class="line">    <span class="keyword">var</span> event;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">window</span>.MouseEvent) event = <span class="keyword">new</span> MouseEvent(<span class="string">'click'</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        event = <span class="built_in">document</span>.createEvent(<span class="string">'MouseEvents'</span>);</span><br><span class="line">        event.initMouseEvent(<span class="string">'click'</span>, <span class="literal">true</span>, <span class="literal">false</span>, <span class="built_in">window</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="literal">false</span>, <span class="literal">false</span>, <span class="literal">false</span>, <span class="literal">false</span>, <span class="number">0</span>, <span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    aLink.dispatchEvent(event);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>所以，最终下载实现如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 传入csv，执行后就会弹出下载框</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">exportExcel</span>(<span class="params">csv</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> sheet = csv2sheet(csv);</span><br><span class="line">    <span class="keyword">var</span> blob = sheet2blob(sheet);</span><br><span class="line">    openDownloadDialog(blob, <span class="string">'导出.xlsx'</span>)；</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="利用官方工具类生成"><a href="#利用官方工具类生成" class="headerlink" title="利用官方工具类生成"></a>利用官方工具类生成</h3><p>其实上面这些代码都不需要我们手写，官方已经提供好了现成的工具类给我们使用，主要包括：</p><ul><li>aoa_to_sheet: 这个工具类最强大也最实用了，将一个二维数组转成sheet，会自动处理number、string、boolean、date等类型数据；</li><li>table_to_sheet: 将一个table dom直接转成sheet，会自动识别colspan和rowspan并将其转成对应的单元格合并；</li><li>json_to_sheet: 将一个由对象组成的数组转成sheet；</li></ul><p>aoa_to_sheet示例：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> aoa = [</span><br><span class="line">    [<span class="string">'姓名'</span>, <span class="string">'性别'</span>, <span class="string">'年龄'</span>, <span class="string">'注册时间'</span>],</span><br><span class="line">    [<span class="string">'张三'</span>, <span class="string">'男'</span>, <span class="number">18</span>, <span class="keyword">new</span> <span class="built_in">Date</span>()],</span><br><span class="line">    [<span class="string">'李四'</span>, <span class="string">'女'</span>, <span class="number">22</span>, <span class="keyword">new</span> <span class="built_in">Date</span>()]</span><br><span class="line">];</span><br><span class="line"><span class="keyword">var</span> sheet = XLSX.utils.aoa_to_sheet(aoa);</span><br><span class="line">openDownloadDialog(sheet2blob(sheet), <span class="string">'导出.xlsx'</span>);</span><br></pre></td></tr></table></figure></p><p>table_to_sheet就更简单了，直接XLSX.utils.table_to_sheet($(‘table’)[0])即可；</p><h3 id="处理单元格合并"><a href="#处理单元格合并" class="headerlink" title="处理单元格合并"></a>处理单元格合并</h3><p>一般来说，前端生成excel而不是csv最主要目的都是为了解决csv不能实现单元格合并的问题，要不然直接导出csv文件就好了，何必引入几百kb的插件。<br>假设我们要生成如下格式的excel文件，其中A1-C1进行单元格合并：<br><img src="/2019/07/31/js读取和导出excel文件/8.png" alt="img"><br>代码如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> aoa = [</span><br><span class="line">    [<span class="string">'主要信息'</span>, <span class="literal">null</span>, <span class="literal">null</span>, <span class="string">'其它信息'</span>], <span class="comment">// 特别注意合并的地方后面预留2个null</span></span><br><span class="line">    [<span class="string">'姓名'</span>, <span class="string">'性别'</span>, <span class="string">'年龄'</span>, <span class="string">'注册时间'</span>],</span><br><span class="line">    [<span class="string">'张三'</span>, <span class="string">'男'</span>, <span class="number">18</span>, <span class="keyword">new</span> <span class="built_in">Date</span>()],</span><br><span class="line">    [<span class="string">'李四'</span>, <span class="string">'女'</span>, <span class="number">22</span>, <span class="keyword">new</span> <span class="built_in">Date</span>()]</span><br><span class="line">];</span><br><span class="line"><span class="keyword">var</span> sheet = XLSX.utils.aoa_to_sheet(aoa);</span><br><span class="line">sheet[<span class="string">'!merges'</span>] = [</span><br><span class="line">    <span class="comment">// 设置A1-C1的单元格合并</span></span><br><span class="line">    &#123;<span class="attr">s</span>: &#123;<span class="attr">r</span>: <span class="number">0</span>, <span class="attr">c</span>: <span class="number">0</span>&#125;, <span class="attr">e</span>: &#123;<span class="attr">r</span>: <span class="number">0</span>, <span class="attr">c</span>: <span class="number">2</span>&#125;&#125;</span><br><span class="line">];</span><br><span class="line">openDownloadDialog(sheet2blob(sheet), <span class="string">'单元格合并示例.xlsx'</span>);</span><br></pre></td></tr></table></figure></p><p>需要注意的地方就是被合并的单元格要用null预留出位置，否则后面的内容（本例中是第四列其它信息）会被覆盖。</p><h3 id="自定义样式"><a href="#自定义样式" class="headerlink" title="自定义样式"></a>自定义样式</h3><p>普通版本不支持定义字体、颜色、背景色等，有这个功能需要的可以使用<a href="http://sheetjs.com/pro" target="_blank" rel="noopener">pro</a>版，好像是要收费的，因为官网没看到下载地址。</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>上面的代码在上传本地excel文件转换时候没什么问题，但是在用ajax请求的excel文件在转换时，chrome浏览器报错，firefox和opera正常。<br>我觉得问题出在我是用的excel的版本上，我在网上下载的excel文件就可以正常解析，这里要注意哦。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;javascript对excel文件进行导入导出的处理&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="javascript" scheme="/categories/javascript/"/>
    
    
      <category term="工具库" scheme="/tags/%E5%B7%A5%E5%85%B7%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>ES6-Symbol.iterator 迭代器</title>
    <link href="/2019/07/30/ES6-Symbol-iterator-%E8%BF%AD%E4%BB%A3%E5%99%A8/"/>
    <id>/2019/07/30/ES6-Symbol-iterator-迭代器/</id>
    <published>2019-07-30T08:51:28.000Z</published>
    <updated>2019-07-30T09:06:25.685Z</updated>
    
    <content type="html"><![CDATA[<p>ES6-Symbol.iterator 迭代器原理剖析<br><a id="more"></a></p><h1 id="ES6-Symbol-iterator-迭代器"><a href="#ES6-Symbol-iterator-迭代器" class="headerlink" title="ES6-Symbol.iterator 迭代器"></a>ES6-Symbol.iterator 迭代器</h1><p>一个数据结构只要部署了Symbol.iterator属性就能使用 for…of遍历 与 …运算符 操作<br>Object身上没有Symbol.iterator，当直接使用时会报错<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    <span class="number">0</span>: <span class="string">'a'</span>,</span><br><span class="line">    <span class="number">1</span>: <span class="string">'b'</span>,</span><br><span class="line">    <span class="number">2</span>: <span class="string">'c'</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log([...obj])<span class="comment">//报错obj is not iterable &lt;br&gt;　　　　　在没有Symbol.iterator方法下运行</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> p <span class="keyword">of</span> obj)&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(p);<span class="comment">//TypeError: obj is not iterable</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>Array身上天生具备Symbol.iterator<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line"><span class="comment">// 数组，天生具备Symbol.iterator方法所以可以使用</span></span><br><span class="line"><span class="built_in">console</span>.log([...arr]);<span class="comment">//(4) [1, 2, 3, 4]</span></span><br></pre></td></tr></table></figure></p><p>而我们Object需要用到…运算符 与 for of遍历怎么办呢<br>如果我们要使用它的话，Object身上需要有一个Symbol.iterator属性代码如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    <span class="number">0</span>: <span class="string">'a'</span>,</span><br><span class="line">    <span class="number">1</span>: <span class="string">'b'</span>,</span><br><span class="line">    <span class="number">2</span>: <span class="string">'c'</span>,</span><br><span class="line">    length: <span class="number">3</span>,</span><br><span class="line">    [<span class="built_in">Symbol</span>.iterator]: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// index用来记遍历圈数</span></span><br><span class="line">        <span class="keyword">let</span> index = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">let</span> next = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> &#123;</span><br><span class="line">                value: <span class="keyword">this</span>[index],</span><br><span class="line">                done: <span class="keyword">this</span>.length == ++index</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            next</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// console.log(obj.length)</span></span><br><span class="line"><span class="built_in">console</span>.log([...obj]);<span class="comment">//(2) ["a", "b"]</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> p <span class="keyword">of</span> obj)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(p) <span class="comment">//"a"  "b"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ES6-Symbol.iterator 迭代器原理剖析&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="javascript" scheme="/categories/javascript/"/>
    
    
      <category term="基础知识" scheme="/tags/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    
  </entry>
  
  <entry>
    <title>移动端touch事件简介</title>
    <link href="/2019/07/30/%E7%A7%BB%E5%8A%A8%E7%AB%AFtouch%E4%BA%8B%E4%BB%B6%E7%AE%80%E4%BB%8B/"/>
    <id>/2019/07/30/移动端touch事件简介/</id>
    <published>2019-07-30T06:11:43.000Z</published>
    <updated>2019-07-30T06:30:12.252Z</updated>
    
    <content type="html"><![CDATA[<p>移动端的touch事件的简单入门介绍<br><a id="more"></a></p><h1 id="移动端touch事件简介"><a href="#移动端touch事件简介" class="headerlink" title="移动端touch事件简介"></a>移动端touch事件简介</h1><h2 id="touch事件"><a href="#touch事件" class="headerlink" title="touch事件"></a>touch事件</h2><p>首先 touch 包含三类事件，它们分别是：touchstart、touchmove、touchend 。</p><ul><li>touchstart：手指触摸到一个 DOM 元素时触发。</li><li>touchmove：手指在一个 DOM 元素上滑动时触发。</li><li>touchend：手指从一个 DOM 元素上移开时触发。</li></ul><p>这三个事件又分别对应三个相同的触摸列表：</p><ul><li>touches：正在触摸屏幕的所有手指的一个列表。</li><li>targetTouches：正在触摸当前 DOM 元素上的手指的一个列表。</li><li>changedTouches：涉及当前事件的手指的一个列表。</li></ul><h2 id="touch事件属性"><a href="#touch事件属性" class="headerlink" title="touch事件属性"></a>touch事件属性</h2><p>事件对应的三个列表虽然名字不一样，但是它们里面装的东西都是差不多的，包含了当前事件的一些相关信息，比如：一些坐标信息。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">clientX:<span class="number">65</span> <span class="comment">// 触摸点在浏览器窗口中的横坐标</span></span><br><span class="line">clientY:<span class="number">18</span> <span class="comment">// 触摸点在浏览器窗口中的纵坐标</span></span><br><span class="line">force:<span class="number">1</span> <span class="comment">// 触摸点压力大小</span></span><br><span class="line">identifier:<span class="number">0</span> <span class="comment">// 触摸点唯一标识（ID）</span></span><br><span class="line">pageX:<span class="number">65</span> <span class="comment">// 触摸点在页面中的横坐标</span></span><br><span class="line">pageY:<span class="number">18</span> <span class="comment">// 触摸点在页面中的纵坐标</span></span><br><span class="line">radiusX:<span class="number">11.5</span> <span class="comment">// 触摸点椭圆的水平半径</span></span><br><span class="line">radiusY:<span class="number">11.5</span> <span class="comment">// 触摸点椭圆的垂直半径</span></span><br><span class="line">rotationAngle:<span class="number">0</span> <span class="comment">// 旋转角度</span></span><br><span class="line">screenX:<span class="number">560</span> <span class="comment">// 触摸点在屏幕中的横坐标</span></span><br><span class="line">screenY:<span class="number">175</span> <span class="comment">// 触摸点在屏幕中的纵坐标</span></span><br></pre></td></tr></table></figure></p><p>上面就是一个 TouchList 列表。它对应的就是前面提到的三种事件（touchstart、touchmove、touchend）中的一种，在触发时生成的一个对象列表。列表里最有用的就是 Touch 对象了，Touch 对象里存放着对应事件的一些相关的信息，我们就是通过这种个事件里这些属性的有机结合来实现各种效果。<br>通过上面的 radiusX，radiusY，rotationAngle 这三个属性就可以计算出你的手指触摸手机屏幕时的一个接触面，只不过这个接触面是用一个近似的椭圆来表示，也就是说它不是一个真正意义上的接触面，而是一个大概的接触面。相信心细的朋友应该会看到 TouchList 对象里有一个 length 属性，并且它的值为 1  ，这说明当前只有一个手指触发了事件（比如：touchstart 事件），换句话说，此时你只有一个手指放到了手机屏幕上，这个手指对应的一些信息存放在 Touch 对象里。因为只有一个手指放在了屏幕上，所以这个 TouchList 里只有一个 Touch 对象，并且是第一个下标为 0 。TouchList 列表里还有一个 target 属性，这个应该很好理解，就是触摸的目标。<br>为了让你能更加立体地理解上面的这些属性，我专门从网上找了一段话来作为补充：</p><p>来自 mozilla</p><ul><li>1.Touch.identifier：此 Touch 对象的唯一标识符。 一次触摸动作(我们指的是手指的触摸)在平面上移动的整个过程中，该标识符不变。 可以根据它来判断跟踪的是否是同一次触摸过程，此值为只读属性。</li><li>2.Touch.screenX：触点相对于屏幕左边沿的X坐标。只读属性。</li><li>3.Touch.screenY：触点相对于屏幕上边沿的Y坐标。只读属性。</li><li>4.Touch.clientX：触点相对于可见视区(visual viewport)左边沿的X坐标。不包括任何滚动偏移。只读属性。</li><li>5.Touch.clientY：触点相对于可见视区(visual viewport)上边沿的Y坐标。不包括任何滚动偏移。只读属性。</li><li>6.Touch.pageX：触点相对于HTML文档左边沿的X坐标。当存在水平滚动的偏移时，这个值包含了水平滚动的偏移。只读属性。</li><li>7.Touch.pageY：触点相对于HTML文档上边沿的Y坐标。当存在水平滚动的偏移时，这个值包含了垂直滚动的偏移。只读属性。</li><li>8.Touch.radiusX：能够包围用户和触摸平面的接触面的最小椭圆的水平轴(X轴)半径。这个值的单位和 screenX 相同。只读属性。</li><li>9.Touch.radiusY：能够包围用户和触摸平面的接触面的最小椭圆的垂直轴(Y轴)半径。这个值的单位和 screenY 相同。只读属性。</li><li>10.Touch.rotationAngle：它是这样一个角度值：由radiusX 和 radiusY描述的正方向的椭圆，需要通过顺时针旋转这个角度值，才能最精确地覆盖住用户和触摸平面的接触面。只读属性。</li><li>11.Touch.force：手指挤压触摸平面的压力大小，从0.0(没有压力)到1.0(最大压力)的浮点数。只读属性。</li><li>12.Touch.target：当这个触点最开始被跟踪时(在 touchstart 事件中)，触点位于的HTML元素。哪怕在触点移动过程中，触点的位置已经离开了这个元素的有效交互区域，或者这个元素已经被从文档中移除。需要注意的是，如果这个元素在触摸过程中被移除，这个事件仍然会指向它，但是不会再冒泡这个事件到 window 或 document 对象。因此，如果有元素在触摸过程中可能被移除，最佳实践是将触摸事件的监听器绑定到这个元素本身，防止元素被移除后，无法再从它的上一级元素上侦测到从该元素冒泡的事件。只读属性。</li></ul><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>这里只是简单地介绍了一下移动端的touch事件，主要还是记住touchstart，touchmove，touchend这三个事件，还有事件里的touches，targetTouches，changedTouches这三个属性，我们尝试用的还是targetTouches,touches的兼容性不好，一般我们不使用。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;移动端的touch事件的简单入门介绍&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="javascript" scheme="/categories/javascript/"/>
    
    
      <category term="移动端" scheme="/tags/%E7%A7%BB%E5%8A%A8%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>你真的了解回流和重绘吗?</title>
    <link href="/2019/07/29/%E4%BD%A0%E7%9C%9F%E7%9A%84%E4%BA%86%E8%A7%A3%E5%9B%9E%E6%B5%81%E5%92%8C%E9%87%8D%E7%BB%98%E5%90%97/"/>
    <id>/2019/07/29/你真的了解回流和重绘吗/</id>
    <published>2019-07-29T08:03:47.000Z</published>
    <updated>2019-07-29T08:39:36.837Z</updated>
    
    <content type="html"><![CDATA[<p>你真的了解回流和重绘吗<br><a id="more"></a></p><h1 id="你真的了解回流和重绘吗"><a href="#你真的了解回流和重绘吗" class="headerlink" title="你真的了解回流和重绘吗"></a>你真的了解回流和重绘吗</h1><p>回流和重绘可以说是每一个web开发者都经常听到的两个词语，我也不例外，可是我之前一直不是很清楚这两步具体做了什么事情。最近由于部门内部要做分享，所以对其进行了一些研究，看了一些博客和书籍，整理了一些内容并且结合一些例子，写了这篇文章，希望可以帮助到大家。</p><h2 id="浏览器的渲染过程"><a href="#浏览器的渲染过程" class="headerlink" title="浏览器的渲染过程"></a>浏览器的渲染过程</h2><p>本文先从浏览器的渲染过程来从头到尾的讲解一下回流重绘，如果大家想直接看如何减少回流和重绘，可以跳到后面。（这个渲染过程来自<a href="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/render-tree-construction?hl=zh-cn" target="_blank" rel="noopener">MDN</a>）</p><p><img src="/2019/07/29/你真的了解回流和重绘吗/1.png" alt="webkit渲染过程"></p><p>从上面这个图上，我们可以看到，浏览器渲染过程如下：</p><ol><li>解析HTML，生成DOM树，解析CSS，生成CSSOM树</li><li>将DOM树和CSSOM树结合，生成渲染树(Render Tree)</li><li>Layout(回流):根据生成的渲染树，进行回流(Layout)，得到节点的几何信息（位置，大小）</li><li>Painting(重绘):根据渲染树以及回流得到的几何信息，得到节点的绝对像素</li><li>Display:将像素发送给GPU，展示在页面上。（这一步其实还有很多内容，比如会在GPU将多个合成层合并为同一个层，并展示在页面中。而css3硬件加速的原理则是新建合成层，这里我们不展开，之后有机会会写一篇博客）</li></ol><p>渲染过程看起来很简单，让我们来具体了解下每一步具体做了什么。</p><h3 id="生成渲染树"><a href="#生成渲染树" class="headerlink" title="生成渲染树"></a>生成渲染树</h3><p><img src="/2019/07/29/你真的了解回流和重绘吗/2.png" alt="生成渲染树"></p><p>为了构建渲染树，浏览器主要完成了以下工作：</p><ol><li>从DOM树的根节点开始遍历每个可见节点。</li><li>对于每个可见的节点，找到CSSOM树中对应的规则，并应用它们。</li><li>根据每个可见节点以及其对应的样式，组合生成渲染树。</li></ol><p>第一步中，既然说到了要遍历可见的节点，那么我们得先知道，什么节点是不可见的。不可见的节点包括：</p><ul><li>一些不会渲染输出的节点，比如script、meta、link等。</li><li>一些通过css进行隐藏的节点。比如display:none。注意，利用visibility和opacity隐藏的节点，还是会显示在渲染树上的。只有display:none的节点才不会显示在渲染树上。</li></ul><p><strong>注意：渲染树只包含可见的节点</strong></p><h3 id="回流"><a href="#回流" class="headerlink" title="回流"></a>回流</h3><p>前面我们通过构造渲染树，我们将可见DOM节点以及它对应的样式结合起来，可是我们还需要计算它们在设备视口(viewport)内的确切位置和大小，这个计算的阶段就是回流。</p><p>为了弄清每个对象在网站上的确切大小和位置，浏览器从渲染树的根节点开始遍历，我们可以以下面这个实例来表示：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width,initial-scale=1"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Critial Path: Hello world!<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"width: 50%"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"width: 50%"</span>&gt;</span>Hello world!<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>我们可以看到，第一个div将节点的显示尺寸设置为视口宽度的50%，第二个div将其尺寸设置为父节点的50%。而在回流这个阶段，我们就需要根据视口具体的宽度，将其转为实际的像素值。（如下图）</p><p><img src="/2019/07/29/你真的了解回流和重绘吗/3.png" alt=""></p><h3 id="重绘"><a href="#重绘" class="headerlink" title="重绘"></a>重绘</h3><p>最终，我们通过构造渲染树和回流阶段，我们知道了哪些节点是可见的，以及可见节点的样式和具体的几何信息(位置、大小)，那么我们就可以将渲染树的每个节点都转换为屏幕上的实际像素，这个阶段就叫做重绘节点。</p><p>既然知道了浏览器的渲染过程后，我们就来探讨下，何时会发生回流重绘。</p><h2 id="何时发生回流重绘"><a href="#何时发生回流重绘" class="headerlink" title="何时发生回流重绘"></a>何时发生回流重绘</h2><p>我们前面知道了，回流这一阶段主要是计算节点的位置和几何信息，那么当页面布局和几何信息发生变化的时候，就需要回流。比如以下情况：</p><ul><li>添加或删除可见的DOM元素</li><li>元素的位置发生变化</li><li>元素的尺寸发生变化（包括外边距、内边框、边框大小、高度和宽度等）</li><li>内容发生变化，比如文本变化或图片被另一个不同尺寸的图片所替代。</li><li>页面一开始渲染的时候（这肯定避免不了）</li><li>浏览器的窗口尺寸变化（因为回流是根据视口的大小来计算元素的位置和大小的）</li></ul><p><strong>注意：回流一定会触发重绘，而重绘不一定会回流</strong></p><p>根据改变的范围和程度，渲染树中或大或小的部分需要重新计算，有些改变会触发整个页面的重排，比如，滚动条出现的时候或者修改了根节点。</p><h2 id="浏览器的优化机制"><a href="#浏览器的优化机制" class="headerlink" title="浏览器的优化机制"></a>浏览器的优化机制</h2><p>现代的浏览器都是很聪明的，由于每次重排都会造成额外的计算消耗，因此大多数浏览器都会通过队列化修改并批量执行来优化重排过程。浏览器会将修改操作放入到队列里，直到过了一段时间或者操作达到了一个阈值，才清空队列。但是！<strong>当你获取布局信息的操作的时候，会强制队列刷新</strong>，比如当你访问以下属性或者使用以下方法：</p><ul><li>offsetTop、offsetLeft、offsetWidth、offsetHeight</li><li>scrollTop、scrollLeft、scrollWidth、scrollHeight</li><li>clientTop、clientLeft、clientWidth、clientHeight</li><li>getComputedStyle()</li><li>getBoundingClientRect</li><li>具体可以访问这个网站：<a href="https://gist.github.com/paulirish/5d52fb081b3570c81e3a" target="_blank" rel="noopener">https://gist.github.com/paulirish/5d52fb081b3570c81e3a</a></li></ul><p>以上属性和方法都需要返回最新的布局信息，因此浏览器不得不清空队列，触发回流重绘来返回正确的值。因此，我们在修改样式的时候，<strong>最好避免使用上面列出的属性，他们都会刷新渲染队列。</strong>如果要使用它们，最好将值缓存起来。</p><h2 id="减少回流和重绘"><a href="#减少回流和重绘" class="headerlink" title="减少回流和重绘"></a>减少回流和重绘</h2><p>好了，到了我们今天的重头戏，前面说了这么多背景和理论知识，接下来让我们谈谈如何减少回流和重绘。</p><h3 id="最小化重绘和重排"><a href="#最小化重绘和重排" class="headerlink" title="最小化重绘和重排"></a>最小化重绘和重排</h3><p>由于重绘和重排可能代价比较昂贵，因此最好就是可以减少它的发生次数。为了减少发生次数，我们可以合并多次对DOM和样式的修改，然后一次处理掉。考虑这个例子</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> el = <span class="built_in">document</span>.getElementById(<span class="string">'test'</span>);</span><br><span class="line">el.style.padding = <span class="string">'5px'</span>;</span><br><span class="line">el.style.borderLeft = <span class="string">'1px'</span>;</span><br><span class="line">el.style.borderRight = <span class="string">'2px'</span>;</span><br></pre></td></tr></table></figure><p>例子中，有三个样式属性被修改了，每一个都会影响元素的几何结构，引起回流。当然，大部分现代浏览器都对其做了优化，因此，只会触发一次重排。但是如果在旧版的浏览器或者在上面代码执行的时候，有其他代码访问了布局信息(上文中的会触发回流的布局信息)，那么就会导致三次重排。</p><p>因此，我们可以合并所有的改变然后依次处理，比如我们可以采取以下的方式：</p><ul><li><p>使用cssText</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> el = <span class="built_in">document</span>.getElementById(<span class="string">'test'</span>);</span><br><span class="line">el.style.cssText += <span class="string">'border-left: 1px; border-right: 2px; padding: 5px;'</span>;</span><br></pre></td></tr></table></figure></li><li><p>修改CSS的class</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> el = <span class="built_in">document</span>.getElementById(<span class="string">'test'</span>);</span><br><span class="line">el.className += <span class="string">' active'</span>;</span><br></pre></td></tr></table></figure></li></ul><h3 id="批量修改DOM"><a href="#批量修改DOM" class="headerlink" title="批量修改DOM"></a>批量修改DOM</h3><p>当我们需要对DOM对一系列修改的时候，可以通过以下步骤减少回流重绘次数：</p><ol><li>使元素脱离文档流</li><li>对其进行多次修改</li><li>将元素带回到文档中。</li></ol><p>该过程的第一步和第三步可能会引起回流，但是经过第一步之后，对DOM的所有修改都不会引起回流，因为它已经不在渲染树了。</p><p>有三种方式可以让DOM脱离文档流：</p><ul><li>隐藏元素，应用修改，重新显示</li><li>使用文档片段(document fragment)在当前DOM之外构建一个子树，再把它拷贝回文档。</li><li>将原始元素拷贝到一个脱离文档的节点中，修改节点后，再替换原始的元素。</li></ul><p>考虑我们要执行一段批量插入节点的代码：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">appendDataToElement</span>(<span class="params">appendToElement, data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> li;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; data.length; i++) &#123;</span><br><span class="line">    li = <span class="built_in">document</span>.createElement(<span class="string">'li'</span>);</span><br><span class="line">        li.textContent = <span class="string">'text'</span>;</span><br><span class="line">        appendToElement.appendChild(li);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> ul = <span class="built_in">document</span>.getElementById(<span class="string">'list'</span>);</span><br><span class="line">appendDataToElement(ul, data);</span><br></pre></td></tr></table></figure><p>如果我们直接这样执行的话，由于每次循环都会插入一个新的节点，会导致浏览器回流一次。</p><p>我们可以使用这三种方式进行优化:</p><p><strong>隐藏元素，应用修改，重新显示</strong></p><p>这个会在展示和隐藏节点的时候，产生两次重绘</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">appendDataToElement</span>(<span class="params">appendToElement, data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> li;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; data.length; i++) &#123;</span><br><span class="line">    li = <span class="built_in">document</span>.createElement(<span class="string">'li'</span>);</span><br><span class="line">        li.textContent = <span class="string">'text'</span>;</span><br><span class="line">        appendToElement.appendChild(li);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> ul = <span class="built_in">document</span>.getElementById(<span class="string">'list'</span>);</span><br><span class="line">ul.style.display = <span class="string">'none'</span>;</span><br><span class="line">appendDataToElement(ul, data);</span><br><span class="line">ul.style.display = <span class="string">'block'</span>;</span><br></pre></td></tr></table></figure><p><strong>使用文档片段(document fragment)在当前DOM之外构建一个子树，再把它拷贝回文档</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ul = <span class="built_in">document</span>.getElementById(<span class="string">'list'</span>);</span><br><span class="line"><span class="keyword">const</span> fragment = <span class="built_in">document</span>.createDocumentFragment();</span><br><span class="line">appendDataToElement(fragment, data);</span><br><span class="line">ul.appendChild(fragment);</span><br></pre></td></tr></table></figure><p><strong>将原始元素拷贝到一个脱离文档的节点中，修改节点后，再替换原始的元素。</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ul = <span class="built_in">document</span>.getElementById(<span class="string">'list'</span>);</span><br><span class="line"><span class="keyword">const</span> clone = ul.cloneNode(<span class="literal">true</span>);</span><br><span class="line">appendDataToElement(clone, data);</span><br><span class="line">ul.parentNode.replaceChild(clone, ul);</span><br></pre></td></tr></table></figure><p>对于上述那种情况，我写了一个<a href="https://chenjigeng.github.io/example/share/%E9%81%BF%E5%85%8D%E5%9B%9E%E6%B5%81%E9%87%8D%E7%BB%98/%E6%89%B9%E9%87%8F%E4%BF%AE%E6%94%B9DOM.html" target="_blank" rel="noopener">demo</a>来测试修改前和修改后的性能。然而实验结果不是很理想。</p><p><strong>原因：原因其实上面也说过了，浏览器会使用队列来储存多次修改，进行优化，所以对这个优化方案，我们其实不用优先考虑。</strong></p><h3 id="避免触发同步布局事件"><a href="#避免触发同步布局事件" class="headerlink" title="避免触发同步布局事件"></a>避免触发同步布局事件</h3><p>上文我们说过，当我们访问元素的一些属性的时候，会导致浏览器强制清空队列，进行强制同步布局。举个例子，比如说我们想将一个p标签数组的宽度赋值为一个元素的宽度，我们可能写出这样的代码：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">initP</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; paragraphs.length; i++) &#123;</span><br><span class="line">        paragraphs[i].style.width = box.offsetWidth + <span class="string">'px'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这段代码看上去是没有什么问题，可是其实会造成很大的性能问题。在每次循环的时候，都读取了box的一个offsetWidth属性值，然后利用它来更新p标签的width属性。这就导致了每一次循环的时候，浏览器都必须先使上一次循环中的样式更新操作生效，才能响应本次循环的样式读取操作。每一次循环都会强制浏览器刷新队列。我们可以优化为:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> width = box.offsetWidth;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">initP</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; paragraphs.length; i++) &#123;</span><br><span class="line">        paragraphs[i].style.width = width + <span class="string">'px'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>同样，我也写了个<a href="https://chenjigeng.github.io/example/share/%E9%81%BF%E5%85%8D%E5%9B%9E%E6%B5%81%E9%87%8D%E7%BB%98/%E9%81%BF%E5%85%8D%E5%BF%AB%E9%80%9F%E8%BF%9E%E7%BB%AD%E7%9A%84%E5%B8%83%E5%B1%80.html" target="_blank" rel="noopener">demo</a>来比较两者的性能差异。你可以自己点开这个demo体验下。这个对比差距就比较明显。</p><h3 id="对于复杂动画效果-使用绝对定位让其脱离文档流"><a href="#对于复杂动画效果-使用绝对定位让其脱离文档流" class="headerlink" title="对于复杂动画效果,使用绝对定位让其脱离文档流"></a>对于复杂动画效果,使用绝对定位让其脱离文档流</h3><p>对于复杂动画效果，由于会经常的引起回流重绘，因此，我们可以使用绝对定位，让它脱离文档流。否则会引起父元素以及后续元素频繁的回流。这个我们就直接上个<a href="https://chenjigeng.github.io/example/share/%E9%81%BF%E5%85%8D%E5%9B%9E%E6%B5%81%E9%87%8D%E7%BB%98/%E5%B0%86%E5%A4%8D%E6%9D%82%E5%8A%A8%E7%94%BB%E6%B5%AE%E5%8A%A8%E5%8C%96.html" target="_blank" rel="noopener">例子</a>。</p><p>打开这个例子后，我们可以打开控制台，控制台上会输出当前的帧数(虽然不准)。</p><p><img src="/2019/07/29/你真的了解回流和重绘吗/4.png" alt="image-20181210223750055"></p><p>从上图中，我们可以看到，帧数一直都没到60。这个时候，只要我们点击一下那个按钮，把这个元素设置为绝对定位，帧数就可以稳定60。</p><h3 id="css3硬件加速（GPU加速）"><a href="#css3硬件加速（GPU加速）" class="headerlink" title="css3硬件加速（GPU加速）"></a>css3硬件加速（GPU加速）</h3><p>比起考虑如何减少回流重绘，我们更期望的是，根本不要回流重绘。这个时候，css3硬件加速就闪亮登场啦！！</p><p><strong>划重点：使用css3硬件加速，可以让transform、opacity、filters这些动画不会引起回流重绘 。但是对于动画的其它属性，比如background-color这些，还是会引起回流重绘的，不过它还是可以提升这些动画的性能。</strong></p><p>本篇文章只讨论如何使用，暂不考虑其原理，之后有空会另外开篇文章说明。</p><h4 id="如何使用"><a href="#如何使用" class="headerlink" title="如何使用"></a>如何使用</h4><p>常见的触发硬件加速的css属性：</p><ul><li>transform</li><li>opacity</li><li>filters</li><li>Will-change</li></ul><h4 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h4><p>我们可以先看个<a href="https://chenjigeng.github.io/example/share/%E5%AF%B9%E6%AF%94gpu%E5%8A%A0%E9%80%9F/gpu%E5%8A%A0%E9%80%9F-transform.html" target="_blank" rel="noopener">例子</a>。我通过使用chrome的Performance捕获了一段时间的回流重绘情况，实际结果如下图：</p><p><img src="/2019/07/29/你真的了解回流和重绘吗/5.png" alt="image-20181210225609533"></p><p>从图中我们可以看出，在动画进行的时候，没有发生任何的回流重绘。如果感兴趣你也可以自己做下实验。</p><h4 id="重点"><a href="#重点" class="headerlink" title="重点"></a>重点</h4><ul><li>使用css3硬件加速，可以让transform、opacity、filters这些动画不会引起回流重绘 </li><li>对于动画的其它属性，比如background-color这些，还是会引起回流重绘的，不过它还是可以提升这些动画的性能。</li></ul><h4 id="css3硬件加速的坑"><a href="#css3硬件加速的坑" class="headerlink" title="css3硬件加速的坑"></a>css3硬件加速的坑</h4><ul><li><p>如果你为太多元素使用css3硬件加速，会导致内存占用较大，会有性能问题。</p></li><li><p>在GPU渲染字体会导致抗锯齿无效。这是因为GPU和CPU的算法不同。因此如果你不在动画结束的时候关闭硬件加速，会产生字体模糊。</p></li></ul><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>本文主要讲了浏览器的渲染过程、浏览器的优化机制以及如何减少甚至避免回流和重绘，希望可以帮助大家更好的理解回流重绘。</p><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><ul><li><p><a href="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/render-tree-construction?hl=zh-cn" target="_blank" rel="noopener">渲染树构建、布局及绘制</a></p></li><li><p>高性能Javascript</p></li></ul><p>文章出处-&gt;<a href="https://github.com/chenjigeng/blog" target="_blank" rel="noopener">博客地址</a>, 欢迎给个 start 或 follow</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;你真的了解回流和重绘吗&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="css" scheme="/categories/css/"/>
    
    
      <category term="web性能" scheme="/tags/web%E6%80%A7%E8%83%BD/"/>
    
  </entry>
  
  <entry>
    <title>模块化CommonJS与AMD的手写实现</title>
    <link href="/2019/07/24/%E6%A8%A1%E5%9D%97%E5%8C%96CommonJS%E4%B8%8EAMD%E7%9A%84%E6%89%8B%E5%86%99%E5%AE%9E%E7%8E%B0/"/>
    <id>/2019/07/24/模块化CommonJS与AMD的手写实现/</id>
    <published>2019-07-24T08:34:06.000Z</published>
    <updated>2019-07-24T09:09:10.064Z</updated>
    
    <content type="html"><![CDATA[<p>javascript模块化CommonJS与AMD是如何实现的<br><a id="more"></a></p><h2 id="模块化CommonJS与AMD的手写实现"><a href="#模块化CommonJS与AMD的手写实现" class="headerlink" title="模块化CommonJS与AMD的手写实现"></a>模块化CommonJS与AMD的手写实现</h2><p>现在的前端开发都采用的模块化思想，之前都是使用全局变量，但是弊端这里就不过多描述了。<br>模块化有CommonJS,AMD,CMD,ES6的模块新规范这4种，今天我们来实现以下CommonJS和AMD的规范。</p><h3 id="CommonJS"><a href="#CommonJS" class="headerlink" title="CommonJS"></a>CommonJS</h3><p>首先，CommonJS一般都用在nodejs里，写法如下:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 导入</span></span><br><span class="line"><span class="keyword">const</span> someFun= <span class="built_in">require</span>(<span class="string">'./moduleA'</span>);</span><br><span class="line">someFun();</span><br><span class="line"><span class="comment">// 导出</span></span><br><span class="line"><span class="built_in">module</span>.exports = someFunc;</span><br></pre></td></tr></table></figure></p><p>我们来看一下简单的实现方法<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a.js</span></span><br><span class="line"><span class="keyword">let</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line"><span class="keyword">let</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"><span class="keyword">let</span> b = req(<span class="string">'./b.js'</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">req</span>(<span class="params">mod</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> filename = path.join(__dirname, mod);</span><br><span class="line">    <span class="keyword">let</span> content = fs.readFileSync(filename, <span class="string">'utf8'</span>);</span><br><span class="line">    <span class="keyword">let</span> fn = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">'exports'</span>, <span class="string">'require'</span>, <span class="string">'module'</span>, <span class="string">'__filename'</span>, <span class="string">'__dirname'</span>, content + <span class="string">'\n return module.exports;'</span>);</span><br><span class="line">    <span class="keyword">let</span> <span class="built_in">module</span> = &#123;</span><br><span class="line">        exports: &#123;&#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> fn(<span class="built_in">module</span>.exports, req, <span class="built_in">module</span>, __filename, __dirname);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// b.js</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'bbb'</span>);</span><br><span class="line">exports.name = <span class="string">'zfpx'</span>;</span><br></pre></td></tr></table></figure></p><h3 id="AMD"><a href="#AMD" class="headerlink" title="AMD"></a>AMD</h3><p>我们再来看看AMD规范，AMD规范的实现库是大名鼎鼎requirejs<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个模块</span></span><br><span class="line">define(<span class="string">'a'</span>, [], <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'a'</span>;</span><br><span class="line">&#125;);</span><br><span class="line">define(<span class="string">'b'</span>, [<span class="string">'a'</span>], <span class="function"><span class="keyword">function</span> (<span class="params">a</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + <span class="string">'b'</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 导入和使用</span></span><br><span class="line"><span class="built_in">require</span>([<span class="string">'b'</span>], <span class="function"><span class="keyword">function</span> (<span class="params">b</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(b);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p>简单的实现<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> factories = &#123;&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">define</span>(<span class="params">modName, dependencies, factory</span>) </span>&#123;</span><br><span class="line">    factory.dependencies = dependencies;</span><br><span class="line">    factories[modName] = factory;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">require</span>(<span class="params">modNames, callback</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> loadedModNames = modNames.map(<span class="function"><span class="keyword">function</span> (<span class="params">modName</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">let</span> factory = factories[modName];</span><br><span class="line">        <span class="keyword">let</span> dependencies = factory.dependencies;</span><br><span class="line">        <span class="keyword">let</span> exports;</span><br><span class="line">        <span class="built_in">require</span>(dependencies, <span class="function"><span class="keyword">function</span> (<span class="params">...dependencyMods</span>) </span>&#123;</span><br><span class="line">            exports = factory.apply(<span class="literal">null</span>, dependencyMods);</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">return</span> exports;</span><br><span class="line">    &#125;)</span><br><span class="line">    callback.apply(<span class="literal">null</span>, loadedModNames);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="ES6-模块化"><a href="#ES6-模块化" class="headerlink" title="ES6 模块化"></a>ES6 模块化</h3><p>ES6 模块化是ECMA提出的JavaScript模块化规范，它在语言的层面上实现了模块化。浏览器厂商和Node.js 都宣布要原生支持该规范。它将逐渐取代CommonJS和AMD`规范，成为浏览器和服务器通用的模块解决方案。 采用 ES6 模块化导入及导出时的代码如下<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 导入</span></span><br><span class="line"><span class="keyword">import</span> &#123; name &#125; <span class="keyword">from</span> <span class="string">'./person.js'</span>;</span><br><span class="line"><span class="comment">// 导出</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> name = <span class="string">'zfpx'</span>;</span><br></pre></td></tr></table></figure></p><p>ES6模块虽然是终极模块化方案，但它的缺点在于目前无法直接运行在大部分 JavaScript 运行环境下，必须通过工具转换成标准的 ES5 后才能正常运行。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;javascript模块化CommonJS与AMD是如何实现的&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="javascript" scheme="/categories/javascript/"/>
    
    
      <category term="基础知识" scheme="/tags/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    
  </entry>
  
  <entry>
    <title>javascript的FileReader类</title>
    <link href="/2019/07/24/javascript%E7%9A%84FileReader%E7%B1%BB/"/>
    <id>/2019/07/24/javascript的FileReader类/</id>
    <published>2019-07-24T06:23:49.000Z</published>
    <updated>2019-07-24T06:38:19.576Z</updated>
    
    <content type="html"><![CDATA[<p>javascript的FileReader类<br><a id="more"></a></p><h2 id="javascript的FileReader类"><a href="#javascript的FileReader类" class="headerlink" title="javascript的FileReader类"></a>javascript的FileReader类</h2><p>现在，我们在前端对文件处理的需求已经慢慢增加了，比如，前端上传图片的回显，还有excel文件的解析等，都需要FileReader这个类来实现，这个类有4个方法:</p><ul><li>FileReader.readAsBinaryString(Blob|File)</li><li>FileReader.readAsText(Blob|File, opt_encoding)</li><li>FileReader.readAsDataURL(Blob|File)</li><li>FileReader.readAsArrayBuffer(Blob|File)</li></ul><hr><p>这里，具体的使用方法不过多介绍，详情<a href="https://www.html5rocks.com/en/tutorials/file/dndfiles/" target="_blank" rel="noopener">点击这里</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;javascript的FileReader类&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="javascript" scheme="/categories/javascript/"/>
    
    
      <category term="基础知识" scheme="/tags/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    
  </entry>
  
  <entry>
    <title>移动端利用hammer制作移动缩放旋转功能</title>
    <link href="/2019/07/16/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%88%A9%E7%94%A8hammer%E5%88%B6%E4%BD%9C%E7%A7%BB%E5%8A%A8%E7%BC%A9%E6%94%BE%E6%97%8B%E8%BD%AC%E5%8A%9F%E8%83%BD/"/>
    <id>/2019/07/16/移动端利用hammer制作移动缩放旋转功能/</id>
    <published>2019-07-16T01:43:08.000Z</published>
    <updated>2019-07-16T02:33:28.704Z</updated>
    
    <content type="html"><![CDATA[<p>移动端利用hammer制作移动缩放旋转功能<br><a id="more"></a></p><h2 id="移动端利用hammer制作移动缩放旋转功能"><a href="#移动端利用hammer制作移动缩放旋转功能" class="headerlink" title="移动端利用hammer制作移动缩放旋转功能"></a>移动端利用hammer制作移动缩放旋转功能</h2><p>最近在项目中，有个需求是页面放大，我二话不说，直接把viewport的user-scalable属性设为yes，这倒是勉强的完成了需求的要求，但是这只是整个页面的缩放，而且初始上来的页面只能放大，并不能缩小，如果再加点需求，局部放大，这就挂了。。。。。。<br>于是乎，这几天有空闲的时候补了补关于移动端手势事件的一些知识，为了完成这几项功能，最终选了hammer这个插件，其实这类插件很多，大同小异，选一个稳定点，普及广的，还在维护的就行。当然了，不用插件，自己用原生的touchstart,touchmove,touchend事件也可以完成，但是各种算法还是很复杂的。<br>下面是几个例子：</p><h3 id="元素的缩放"><a href="#元素的缩放" class="headerlink" title="元素的缩放"></a>元素的缩放</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">"en"</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">  &lt;meta name=<span class="string">"viewport"</span> content=<span class="string">"user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1"</span>&gt;</span><br><span class="line">  &lt;meta http-equiv=<span class="string">"X-UA-Compatible"</span> content=<span class="string">"ie=edge"</span>&gt;</span><br><span class="line">  &lt;title&gt;Document&lt;<span class="regexp">/title&gt;</span></span><br><span class="line"><span class="regexp">  &lt;script src="./</span>hammer.js<span class="string">"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">  &lt;!-- &lt;script src="</span>./vconsole.min.js<span class="string">"&gt;&lt;/script&gt; --&gt;</span></span><br><span class="line"><span class="string">  &lt;style&gt;</span></span><br><span class="line"><span class="string">    #myElement &#123;</span></span><br><span class="line"><span class="string">      background: silver;</span></span><br><span class="line"><span class="string">      height: 300px;</span></span><br><span class="line"><span class="string">      text-align: center;</span></span><br><span class="line"><span class="string">      font: 30px/300px Helvetica, Arial, sans-serif;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &lt;/style&gt;</span></span><br><span class="line"><span class="string">&lt;/head&gt;</span></span><br><span class="line"><span class="string">&lt;body&gt;</span></span><br><span class="line"><span class="string">  &lt;div id="</span>myElement<span class="string">"&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">&lt;/body&gt;</span></span><br><span class="line"><span class="string">&lt;script&gt;</span></span><br><span class="line"><span class="string">// var vConsole = new VConsole();</span></span><br><span class="line"><span class="string">  var scale = 1, old_scale;</span></span><br><span class="line"><span class="string">  var myElement = document.getElementById('myElement');</span></span><br><span class="line"><span class="string">  var mc = new Hammer.Manager(myElement);</span></span><br><span class="line"><span class="string">  // pinch</span></span><br><span class="line"><span class="string">  var pinch = new Hammer.Pinch();</span></span><br><span class="line"><span class="string">  // add to the Manager</span></span><br><span class="line"><span class="string">  mc.add([pinch]);</span></span><br><span class="line"><span class="string">  // pinch事件</span></span><br><span class="line"><span class="string">  mc.on("</span>pinchstart<span class="string">", function(ev) &#123;</span></span><br><span class="line"><span class="string">    // 注意这里1</span></span><br><span class="line"><span class="string">    old_scale = scale;</span></span><br><span class="line"><span class="string">  &#125;);</span></span><br><span class="line"><span class="string">  mc.on("</span>pinchmove<span class="string">", function(ev) &#123;</span></span><br><span class="line"><span class="string">    // 注意这里2</span></span><br><span class="line"><span class="string">    scale =ev.scale + old_scale-1;</span></span><br><span class="line"><span class="string">    // myElement.style.transform = `scale($&#123;scale&#125;)`;</span></span><br><span class="line"><span class="string">    updateTransform();</span></span><br><span class="line"><span class="string">  &#125;);</span></span><br><span class="line"><span class="string">  // 更新样式函数</span></span><br><span class="line"><span class="string">  function updateTransform() &#123;</span></span><br><span class="line"><span class="string">    var val = [</span></span><br><span class="line"><span class="string">      `scale($&#123;scale&#125;)`</span></span><br><span class="line"><span class="string">      // `rotate(`+deg+`deg)`</span></span><br><span class="line"><span class="string">    ];</span></span><br><span class="line"><span class="string">    myElement.style.transform = val.join(' ');</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;/html&gt;</span></span><br></pre></td></tr></table></figure><h3 id="元素的旋转"><a href="#元素的旋转" class="headerlink" title="元素的旋转"></a>元素的旋转</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">"en"</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">  &lt;meta name=<span class="string">"viewport"</span> content=<span class="string">"user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1"</span>&gt;</span><br><span class="line">  &lt;meta http-equiv=<span class="string">"X-UA-Compatible"</span> content=<span class="string">"ie=edge"</span>&gt;</span><br><span class="line">  &lt;title&gt;Document&lt;<span class="regexp">/title&gt;</span></span><br><span class="line"><span class="regexp">  &lt;script src="./</span>hammer.js<span class="string">"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">  &lt;!-- &lt;script src="</span>./vconsole.min.js<span class="string">"&gt;&lt;/script&gt; --&gt;</span></span><br><span class="line"><span class="string">  &lt;style&gt;</span></span><br><span class="line"><span class="string">    #myElement &#123;</span></span><br><span class="line"><span class="string">      background: silver;</span></span><br><span class="line"><span class="string">      height: 300px;</span></span><br><span class="line"><span class="string">      text-align: center;</span></span><br><span class="line"><span class="string">      font: 30px/300px Helvetica, Arial, sans-serif;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &lt;/style&gt;</span></span><br><span class="line"><span class="string">&lt;/head&gt;</span></span><br><span class="line"><span class="string">&lt;body&gt;</span></span><br><span class="line"><span class="string">  &lt;div id="</span>myElement<span class="string">"&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">&lt;/body&gt;</span></span><br><span class="line"><span class="string">&lt;script&gt;</span></span><br><span class="line"><span class="string">// var vConsole = new VConsole();</span></span><br><span class="line"><span class="string">  var deg = 0, init_deg=0, rotate_deg, start_deg, pre_deg, flag_deg;</span></span><br><span class="line"><span class="string">  var myElement = document.getElementById('myElement');</span></span><br><span class="line"><span class="string">  var mc = new Hammer.Manager(myElement);</span></span><br><span class="line"><span class="string">  // rotate</span></span><br><span class="line"><span class="string">  var rotate = new Hammer.Rotate();</span></span><br><span class="line"><span class="string">  // add to the Manager</span></span><br><span class="line"><span class="string">  mc.add([rotate]);</span></span><br><span class="line"><span class="string">  // rotate事件</span></span><br><span class="line"><span class="string">  mc.on("</span>rotatestart<span class="string">", function(ev) &#123;</span></span><br><span class="line"><span class="string">    // 注意这里1</span></span><br><span class="line"><span class="string">    start_deg = ev.rotation; // 开始旋转时记录下当前rotation的角度</span></span><br><span class="line"><span class="string">    flag_deg = 0;</span></span><br><span class="line"><span class="string">  &#125;);</span></span><br><span class="line"><span class="string">  mc.on("</span>rotatemove<span class="string">", function(ev) &#123;</span></span><br><span class="line"><span class="string">    // 注意这里2</span></span><br><span class="line"><span class="string">    rotate_deg = ev.rotation - start_deg; // rotation的角度减去开始旋转的角度就是转过了多少角度</span></span><br><span class="line"><span class="string">    deg = init_deg + rotate_deg; // 元素旋转之前的角度 + 旋转了多少角度是当前元素的状态</span></span><br><span class="line"><span class="string">    // myElement.style.transform = `rotate(`+deg+`deg)`;</span></span><br><span class="line"><span class="string">    updateTransform();</span></span><br><span class="line"><span class="string">  &#125;);</span></span><br><span class="line"><span class="string">  mc.on("</span>rotateend<span class="string">", function(ev) &#123;</span></span><br><span class="line"><span class="string">    // 注意这里3</span></span><br><span class="line"><span class="string">      init_deg = deg; // 旋转结束时别忘了把当前角度状态赋值给初始化角度，以便下次旋转时接着上次的角度转</span></span><br><span class="line"><span class="string">  &#125;);</span></span><br><span class="line"><span class="string">  // 更新样式函数</span></span><br><span class="line"><span class="string">  function updateTransform() &#123;</span></span><br><span class="line"><span class="string">    var val = [</span></span><br><span class="line"><span class="string">      // `scale($&#123;scale&#125;)`</span></span><br><span class="line"><span class="string">      `rotate(`+deg+`deg)`</span></span><br><span class="line"><span class="string">    ];</span></span><br><span class="line"><span class="string">    myElement.style.transform = val.join(' ');</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;/html&gt;</span></span><br></pre></td></tr></table></figure><p>最后，附上一个拖拽，缩放，旋转的</p><h3 id="拖拽，缩放，旋转"><a href="#拖拽，缩放，旋转" class="headerlink" title="拖拽，缩放，旋转"></a>拖拽，缩放，旋转</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">"en"</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">  &lt;meta name=<span class="string">"viewport"</span> content=<span class="string">"user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1"</span>&gt;</span><br><span class="line">  &lt;meta http-equiv=<span class="string">"X-UA-Compatible"</span> content=<span class="string">"ie=edge"</span>&gt;</span><br><span class="line">  &lt;title&gt;Document&lt;<span class="regexp">/title&gt;</span></span><br><span class="line"><span class="regexp">  &lt;script src="./</span>hammer.js<span class="string">"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">  &lt;!-- &lt;script src="</span>./vconsole.min.js<span class="string">"&gt;&lt;/script&gt; --&gt;</span></span><br><span class="line"><span class="string">  &lt;style&gt;</span></span><br><span class="line"><span class="string">    #myElement &#123;</span></span><br><span class="line"><span class="string">      background: silver;</span></span><br><span class="line"><span class="string">      width: 250px;</span></span><br><span class="line"><span class="string">      height: 250px;</span></span><br><span class="line"><span class="string">      text-align: center;</span></span><br><span class="line"><span class="string">      font: 30px/300px Helvetica, Arial, sans-serif;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &lt;/style&gt;</span></span><br><span class="line"><span class="string">&lt;/head&gt;</span></span><br><span class="line"><span class="string">&lt;body&gt;</span></span><br><span class="line"><span class="string">  &lt;div id="</span>myElement<span class="string">"&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">&lt;/body&gt;</span></span><br><span class="line"><span class="string">&lt;script&gt;</span></span><br><span class="line"><span class="string">  var reqAnimationFrame = (function () &#123;</span></span><br><span class="line"><span class="string">      return window[Hammer.prefixed(window, 'requestAnimationFrame')] || function (callback) &#123;</span></span><br><span class="line"><span class="string">          window.setTimeout(callback, 1000 / 60);</span></span><br><span class="line"><span class="string">      &#125;;</span></span><br><span class="line"><span class="string">  &#125;)();</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">  var el = document.querySelector("#myElement");</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> START_X = <span class="built_in">Math</span>.round((<span class="built_in">window</span>.innerWidth - el.offsetWidth) / <span class="number">2</span>);</span><br><span class="line">  <span class="keyword">var</span> START_Y = <span class="built_in">Math</span>.round((<span class="built_in">window</span>.innerHeight - el.offsetHeight) / <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> ticking = <span class="literal">false</span>;</span><br><span class="line">  <span class="keyword">var</span> transform;   <span class="comment">//图像效果</span></span><br><span class="line">  <span class="keyword">var</span> timer;</span><br><span class="line">  <span class="keyword">var</span> initAngle = <span class="number">0</span>;  <span class="comment">//旋转角度</span></span><br><span class="line">  <span class="keyword">var</span> initScale = <span class="number">1</span>;  <span class="comment">//放大倍数</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> mc = <span class="keyword">new</span> Hammer.Manager(el);   <span class="comment">//用管理器  可以同时触发旋转 拖拽  移动</span></span><br><span class="line">  <span class="comment">//var mc = new Hammer(el);      //旋转和移动互斥</span></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">  ev.srcEvent.type  touchstart  touchend touchmove</span></span><br><span class="line"><span class="comment">  ev.deltaX  手势移动位移变量  </span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  mc.add(<span class="keyword">new</span> Hammer.Pan(&#123; <span class="attr">threshold</span>: <span class="number">0</span>, <span class="attr">pointers</span>: <span class="number">0</span> &#125;));  </span><br><span class="line">  mc.add(<span class="keyword">new</span> Hammer.Rotate(&#123; <span class="attr">threshold</span>: <span class="number">0</span> &#125;)).recognizeWith(mc.get(<span class="string">'pan'</span>));</span><br><span class="line">  mc.add(<span class="keyword">new</span> Hammer.Pinch(&#123; <span class="attr">threshold</span>: <span class="number">0</span> &#125;)).recognizeWith([mc.get(<span class="string">'pan'</span>), mc.get(<span class="string">'rotate'</span>)]);</span><br><span class="line">  <span class="comment">//结束时做一些处理</span></span><br><span class="line">  mc.on(<span class="string">"hammer.input"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">ev</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span>(ev.isFinal) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(START_X+<span class="string">"  "</span>+transform.translate.x  +<span class="string">"   "</span>+ev.deltaX);</span><br><span class="line">    START_X = transform.translate.x ;</span><br><span class="line">    START_Y = transform.translate.y ;</span><br><span class="line">      &#125;</span><br><span class="line">    </span><br><span class="line">  &#125;);</span><br><span class="line">  mc.on(<span class="string">"panstart panmove"</span>, onPan);</span><br><span class="line">  mc.on(<span class="string">"rotatestart rotatemove rotateend"</span>, onRotate);</span><br><span class="line">  mc.on(<span class="string">"pinchstart pinchmove"</span>, onPinch);</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">  第二次进入拖拽时  delta位移重置</span></span><br><span class="line"><span class="comment">  移动时 初始位置startxy不动。delta增加</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">onPan</span>(<span class="params">ev</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!ev.isFinal) &#123;</span><br><span class="line">     el.className = <span class="string">''</span>;</span><br><span class="line">      <span class="built_in">console</span>.log(START_X   +<span class="string">"  "</span>+  START_Y +<span class="string">" |  "</span>+ev.deltaX   +<span class="string">"  "</span>+  ev.deltaY);</span><br><span class="line">        transform.translate = &#123;</span><br><span class="line">          x: START_X + ev.deltaX,</span><br><span class="line">          y: START_Y + ev.deltaY</span><br><span class="line">        &#125;;</span><br><span class="line">        requestElementUpdate();</span><br><span class="line">    &#125;   </span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">onPinch</span>(<span class="params">ev</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ev.type == <span class="string">'pinchstart'</span>) &#123;</span><br><span class="line">      initScale = transform.scale || <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    el.className = <span class="string">''</span>;</span><br><span class="line">    transform.scale = initScale * ev.scale;</span><br><span class="line">    requestElementUpdate();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//旋转相关</span></span><br><span class="line">  <span class="keyword">var</span>  preAngle =<span class="number">0</span> ;</span><br><span class="line">  <span class="keyword">var</span>  tempAngleFlag=<span class="number">0</span>;</span><br><span class="line">  <span class="keyword">var</span>  deltaAngle = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">var</span>  startRotateAngle = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">onRotate</span>(<span class="params">ev</span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//点下第二个触控点时触发</span></span><br><span class="line">      <span class="keyword">if</span>(ev.type == <span class="string">'rotatestart'</span>) &#123;    </span><br><span class="line">        startRotateAngle =  ev.rotation ; </span><br><span class="line">        tempAngleFlag = <span class="number">0</span> ;</span><br><span class="line">      &#125;</span><br><span class="line">    <span class="keyword">if</span>(ev.type == <span class="string">'rotatemove'</span>)&#123;</span><br><span class="line">      <span class="keyword">if</span>(tempAngleFlag == <span class="number">0</span>)&#123;</span><br><span class="line">        preAngle = startRotateAngle;</span><br><span class="line">        tempAngleFlag ++;</span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        deltaAngle = ev.rotation - preAngle;</span><br><span class="line">        el.className = <span class="string">''</span>;</span><br><span class="line">        transform.rz = <span class="number">1</span>;  <span class="comment">//非0  垂直xy轴</span></span><br><span class="line">        transform.angle =initAngle + deltaAngle;</span><br><span class="line">        requestElementUpdate();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">      </span><br><span class="line">    <span class="comment">//旋转结束  记录当前图片角度</span></span><br><span class="line">    <span class="keyword">if</span>(ev.type ==<span class="string">'rotateend'</span>)&#123;</span><br><span class="line">      initAngle = transform.angle;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">updateElementTransform</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> value = [</span><br><span class="line">                  <span class="string">'translate3d('</span> + transform.translate.x + <span class="string">'px, '</span> + transform.translate.y + <span class="string">'px, 0)'</span>,</span><br><span class="line">                  <span class="string">'scale('</span> + transform.scale + <span class="string">', '</span> + transform.scale + <span class="string">')'</span>,</span><br><span class="line">                  <span class="string">'rotate3d('</span>+ transform.rx +<span class="string">','</span>+ transform.ry +<span class="string">','</span>+ transform.rz +<span class="string">','</span>+  transform.angle + <span class="string">'deg)'</span></span><br><span class="line">      ];</span><br><span class="line"></span><br><span class="line">      value = value.join(<span class="string">" "</span>);</span><br><span class="line">      el.style.webkitTransform = value;  <span class="comment">/*为Chrome/Safari*/</span></span><br><span class="line">      el.style.mozTransform = value; <span class="comment">/*为Firefox*/</span></span><br><span class="line">      el.style.transform = value; <span class="comment">/*IE Opera?*/</span></span><br><span class="line">      ticking = <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">requestElementUpdate</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span>(!ticking) &#123;</span><br><span class="line">          reqAnimationFrame(updateElementTransform);</span><br><span class="line">          ticking = <span class="literal">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">  初始化设置</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">resetElement</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">      el.className = <span class="string">'animate'</span>;</span><br><span class="line">     transform = &#123;</span><br><span class="line">          translate: &#123; <span class="attr">x</span>: START_X, <span class="attr">y</span>: START_Y &#125;,</span><br><span class="line">          scale: <span class="number">1</span>,</span><br><span class="line">          angle: <span class="number">0</span>,</span><br><span class="line">          rx: <span class="number">0</span>,</span><br><span class="line">          ry: <span class="number">0</span>,</span><br><span class="line">          rz: <span class="number">0</span></span><br><span class="line">      &#125;;</span><br><span class="line">      requestElementUpdate();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  resetElement();</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>html&gt;</span><br></pre></td></tr></table></figure><p>最后，附上github源码地址，<a href="https://github.com/jinux7/study-collections/tree/master/移动端利用hammer制作移动缩放旋转功能" target="_blank" rel="noopener">点这里</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;移动端利用hammer制作移动缩放旋转功能&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="javascript" scheme="/categories/javascript/"/>
    
    
      <category term="移动端" scheme="/tags/%E7%A7%BB%E5%8A%A8%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>实现一个串行异步执行类</title>
    <link href="/2019/07/08/%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E4%B8%B2%E8%A1%8C%E5%BC%82%E6%AD%A5%E6%89%A7%E8%A1%8C%E7%B1%BB/"/>
    <id>/2019/07/08/实现一个串行异步执行类/</id>
    <published>2019-07-08T05:56:34.000Z</published>
    <updated>2019-07-08T06:12:19.392Z</updated>
    
    <content type="html"><![CDATA[<p>写一个按顺序执行操作的类工具<br><a id="more"></a></p><h2 id="实现一个串行异步执行类"><a href="#实现一个串行异步执行类" class="headerlink" title="实现一个串行异步执行类"></a>实现一个串行异步执行类</h2><p>今天在学习webpack源码时，看到了webpack的核心模块tapable，里边有很多方法，其中之一就是串行异步执行方法，于是，自己准备实现一个简单的，其实很简单，见下面的代码：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 声明类SerialAsync</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SerialAsync</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.arrFns = [];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 原型链上添加addFn方法</span></span><br><span class="line">SerialAsync.prototype.addFn = <span class="function"><span class="keyword">function</span>(<span class="params">fn</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.arrFns.push(fn);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 原型链上添加emitFn方法</span></span><br><span class="line">SerialAsync.prototype.emitFn = <span class="function"><span class="keyword">function</span>(<span class="params">callback</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> self = <span class="keyword">this</span>;</span><br><span class="line">  <span class="keyword">let</span> index = <span class="number">0</span>;</span><br><span class="line">  <span class="comment">// next是核心代码</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">next</span>(<span class="params">par</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> fn = self.arrFns[index++];</span><br><span class="line">    fn?fn(next):callback(par);</span><br><span class="line">  &#125;</span><br><span class="line">  next();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// SerialAsync结束</span></span><br><span class="line"><span class="comment">// 是不是超级的简单，就15行代码，记住，核心代码是next方法</span></span><br><span class="line"><span class="comment">// 下面是具体的使用</span></span><br><span class="line"><span class="keyword">var</span> s = <span class="keyword">new</span> SerialAsync();</span><br><span class="line">s.addFn(<span class="function"><span class="keyword">function</span>(<span class="params">done</span>)</span>&#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">    done(<span class="number">1</span>);</span><br><span class="line">  &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;);</span><br><span class="line">s.addFn(<span class="function"><span class="keyword">function</span>(<span class="params">done</span>)</span>&#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>);</span><br><span class="line">    done(<span class="number">2</span>);</span><br><span class="line">  &#125;, <span class="number">2000</span>);</span><br><span class="line">&#125;);</span><br><span class="line">s.addFn(<span class="function"><span class="keyword">function</span>(<span class="params">done</span>)</span>&#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">5</span>);</span><br><span class="line">    done(<span class="number">2</span>);</span><br><span class="line">  &#125;, <span class="number">5000</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.time();</span><br><span class="line">s.emitFn(<span class="function">(<span class="params">par</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'over-&gt;'</span>, par);</span><br><span class="line">  <span class="built_in">console</span>.timeEnd();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p>可以看到，最关键部分就是next函数，有个递归的过程，据说，nodejs中很多类似的串行方法都是这么实现的，一定要记住哦。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;写一个按顺序执行操作的类工具&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="javascript" scheme="/categories/javascript/"/>
    
    
      <category term="工具库" scheme="/tags/%E5%B7%A5%E5%85%B7%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>js中小数精度问题</title>
    <link href="/2019/07/04/js%E4%B8%AD%E5%B0%8F%E6%95%B0%E7%B2%BE%E5%BA%A6%E9%97%AE%E9%A2%98/"/>
    <id>/2019/07/04/js中小数精度问题/</id>
    <published>2019-07-04T03:13:00.000Z</published>
    <updated>2019-07-04T05:17:06.012Z</updated>
    
    <content type="html"><![CDATA[<p>js中的小数精度问题分析<br><a id="more"></a></p><h2 id="js中小数精度问题"><a href="#js中小数精度问题" class="headerlink" title="js中小数精度问题"></a>js中小数精度问题</h2><p>我们在日常开发中，是否遇到过0.1+0.2，一看马上答案就出来了，0.3啊，多么简单的加法，但是，如果你在代码里运行一下，结果出乎意料哦，是0.30000000000000004，哈哈，有意思吧，不仅在js中这样，java，python等语言都是这个德行。<br>奇怪了，这是为什么呢？这就需要了解一下小数在计算机中的存储方式了。<br>我在这里只说小数部分的保存方式。<br>先来说一下小数如何存储，如0.6：</p><ul><li>将该数字乘以2，取出整数部分作为二进制表示的第1位；然后再将小数部分乘以2，将得到的整数部分作为二进制表示的第2位；以此类推，直到小数部分为0。 </li><li>特殊情况： 小数部分出现循环，无法停止，则用有限的二进制位无法准确表示一个小数，这也是在编程语言中表示小数会出现误差的原因<br>再具体的分步骤看一下：<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0.6</span> * <span class="number">2</span> = <span class="number">1.2</span> —————— <span class="number">1</span> </span><br><span class="line"><span class="number">0.2</span> * <span class="number">2</span> = <span class="number">0.4</span> —————— <span class="number">0</span> </span><br><span class="line"><span class="number">0.4</span> * <span class="number">2</span> = <span class="number">0.8</span> —————— <span class="number">0</span> </span><br><span class="line"><span class="number">0.8</span> * <span class="number">2</span> = <span class="number">1.6</span> —————— <span class="number">1</span> </span><br><span class="line"><span class="number">0.6</span> * <span class="number">2</span> = <span class="number">1.2</span> —————— <span class="number">1</span> </span><br><span class="line">…………</span><br></pre></td></tr></table></figure></li></ul><p>我们可以发现在该计算中已经出现了循环，0.6用二进制表示为 1001 1001 1001 1001 ……<br>如果是10.6，那个10.6的完整二进制表示为 1010.100110011001……<br>通过上边的解释，就知道为什么有的小数在js里会出现精度不准的问题了吧，接下来，我们再看看二进制小数如何还原成十进制。<br>我们还拿0.6这个小数来举例子,1001 1001 1001 1001 :</p><ul><li>从左到右，v[i] * 2^( - i ), i 为从左到右的index，v[i]为该位的值，直接看例子，很直接的<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0.6</span> = <span class="number">1</span> * <span class="number">2</span>^<span class="number">-1</span> + <span class="number">0</span> * <span class="number">2</span>^<span class="number">-2</span> + <span class="number">0</span> * <span class="number">2</span>^<span class="number">-3</span> + <span class="number">1</span> * <span class="number">2</span>^<span class="number">-4</span> + ……</span><br></pre></td></tr></table></figure></li></ul><p>好了，通过上面大概的了解了小数为什么精度有时候不准的问题，这也只是粗略的理解一下而已，具体在各种语言中运行时可能情况会很复杂，我就点到而止了。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;js中的小数精度问题分析&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="javascript" scheme="/categories/javascript/"/>
    
    
      <category term="基础知识" scheme="/tags/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    
  </entry>
  
  <entry>
    <title>js中的递归总结</title>
    <link href="/2019/07/02/js%E4%B8%AD%E7%9A%84%E9%80%92%E5%BD%92%E6%80%BB%E7%BB%93/"/>
    <id>/2019/07/02/js中的递归总结/</id>
    <published>2019-07-02T01:54:14.000Z</published>
    <updated>2019-07-03T06:04:30.800Z</updated>
    
    <content type="html"><![CDATA[<p>js中各种递归的知识总结<br><a id="more"></a></p><h2 id="js中的递归总结"><a href="#js中的递归总结" class="headerlink" title="js中的递归总结"></a>js中的递归总结</h2><p>递归，在我们平时编程中用到的地方很多，但是，对我而然，它是又熟悉又陌生，也就是说，不能熟练地应用到具体的实际业务代码中，所以，我想好好总结总结，以便可以更好地使用它。</p><h3 id="数字递归-最简单的入门"><a href="#数字递归-最简单的入门" class="headerlink" title="数字递归(最简单的入门)"></a>数字递归(最简单的入门)</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 加法的递归</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">num</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (num === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> num + sum(--num)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">sum(<span class="number">4</span>); <span class="comment">// 10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 再来一个阶乘的递归</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(num === <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> num*fn(num<span class="number">-1</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">fn(<span class="number">5</span>) <span class="comment">// 120</span></span><br></pre></td></tr></table></figure><h3 id="数组递归"><a href="#数组递归" class="headerlink" title="数组递归"></a>数组递归</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 数组中的各个元素相加之和</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(arr.length === <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> arr[<span class="number">0</span>];</span><br><span class="line">  &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> val = arr.shift();</span><br><span class="line">    <span class="keyword">return</span> val + fn(arr);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">fn([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>]) <span class="comment">// 55</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 将嵌套的多维数组转成一纬数组</span></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,[<span class="number">7</span>,[<span class="number">8</span>,[<span class="number">9</span>,<span class="number">10</span>]]]],<span class="number">11</span>,[<span class="number">12</span>]];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">transformArr</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> newArr = [];</span><br><span class="line">  recursiveArr(arr, newArr);</span><br><span class="line">  <span class="keyword">return</span> newArr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">recursiveArr</span>(<span class="params">arr, newArr</span>) </span>&#123;</span><br><span class="line">  arr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(item <span class="keyword">instanceof</span> <span class="built_in">Array</span>) &#123;</span><br><span class="line">      recursiveArr(item, newArr);</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">      newArr.push(item);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(transformArr(arr), <span class="string">'@_@'</span>);</span><br><span class="line"><span class="comment">// [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 一纬数组，元素都是对象，互相有父子关系，将这些数组转换成父子结构的对象格式</span></span><br><span class="line"><span class="comment">// 数据，parentId是其父节点的id </span></span><br><span class="line"><span class="keyword">var</span> data = [</span><br><span class="line">  &#123;</span><br><span class="line">    name: <span class="string">'数据1'</span>,</span><br><span class="line">    id: <span class="number">11</span>,</span><br><span class="line">    parentId: <span class="number">1</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    name: <span class="string">'数据2'</span>,</span><br><span class="line">    id: <span class="number">12</span>,</span><br><span class="line">    parentId: <span class="number">11</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    name: <span class="string">'数据3'</span>,</span><br><span class="line">    id: <span class="number">13</span>,</span><br><span class="line">    parentId: <span class="number">11</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    name: <span class="string">'数据4'</span>,</span><br><span class="line">    id: <span class="number">14</span>,</span><br><span class="line">    parentId: <span class="number">12</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    name: <span class="string">'数据5'</span>,</span><br><span class="line">    id: <span class="number">15</span>,</span><br><span class="line">    parentId: <span class="number">13</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    name: <span class="string">'数据6'</span>,</span><br><span class="line">    id: <span class="number">16</span>,</span><br><span class="line">    parentId: <span class="number">15</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    name: <span class="string">'数据7'</span>,</span><br><span class="line">    id: <span class="number">17</span>,</span><br><span class="line">    parentId: <span class="number">16</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    name: <span class="string">'数据8'</span>,</span><br><span class="line">    id: <span class="number">18</span>,</span><br><span class="line">    parentId: <span class="number">16</span></span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br><span class="line"><span class="comment">// transformData这个函数是辅助生成对象的函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">transformData</span>(<span class="params">data, parentId</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> obj = &#123;</span><br><span class="line">    children: []</span><br><span class="line">  &#125;;</span><br><span class="line">  generaterTree(data, obj, <span class="number">1</span>);</span><br><span class="line">  <span class="keyword">return</span> obj;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// generaterTree这个函数是递归调用的核心函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">generaterTree</span>(<span class="params">data, obj, parentId</span>) </span>&#123;</span><br><span class="line">  data.forEach(<span class="function"><span class="params">item</span>=&gt;</span> &#123;</span><br><span class="line">    item.children = item.children?item.children:[];</span><br><span class="line">    <span class="keyword">if</span>(item.parentId === parentId) &#123;</span><br><span class="line">      obj.children.push(item);</span><br><span class="line">      generaterTree(data, item, item.id); <span class="comment">// 继续递归回调</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125; </span><br><span class="line"><span class="built_in">console</span>.log(transformData(data));</span><br></pre></td></tr></table></figure><h3 id="对象的递归"><a href="#对象的递归" class="headerlink" title="对象的递归"></a>对象的递归</h3><p>其实，对象的递归里边也包含了数组等的一些基础型数据，我们常用的就是对象的深拷贝<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> data = &#123;</span><br><span class="line">  <span class="string">"name"</span>: <span class="string">"jinux"</span>,</span><br><span class="line">  <span class="string">"like"</span>: [<span class="string">"football"</span>,<span class="string">"basketball"</span>,<span class="string">"voliball"</span>],</span><br><span class="line">  <span class="string">"work"</span>: &#123;</span><br><span class="line">    <span class="string">"company"</span>: <span class="string">"technology"</span>,</span><br><span class="line">    <span class="string">"address"</span>: <span class="string">"hunnan"</span>,</span><br><span class="line">    <span class="string">"tongshi"</span>: [<span class="string">"lining"</span>,<span class="string">"lvnan"</span>],</span><br><span class="line">    <span class="string">"isLeader"</span>: <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepClone</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="keyword">typeof</span> data !== <span class="string">'object'</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> data;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>(data === <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> data;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> obj = <span class="built_in">Object</span>.prototype.toString.call(data)===<span class="string">'[object Array]'</span>?</span><br><span class="line">            []:&#123;&#125;;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">in</span> data) &#123;</span><br><span class="line">    obj[key] = <span class="built_in">arguments</span>.callee(data[key]);</span><br><span class="line">    <span class="comment">// obj[key] = deepClone(data[key]); 与上边的一个意思</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> obj;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(deepClone(data), <span class="string">"&lt;-&gt;"</span>);</span><br></pre></td></tr></table></figure></p><p>目前暂时整理这么多，以后会陆续增加递归的小demo.</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;js中各种递归的知识总结&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="javascript" scheme="/categories/javascript/"/>
    
    
      <category term="基础知识" scheme="/tags/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    
  </entry>
  
  <entry>
    <title>快速创建含有多个元素的数组</title>
    <link href="/2019/07/01/%E5%BF%AB%E9%80%9F%E5%88%9B%E5%BB%BA%E5%90%AB%E6%9C%89%E5%A4%9A%E4%B8%AA%E5%85%83%E7%B4%A0%E7%9A%84%E6%95%B0%E7%BB%84/"/>
    <id>/2019/07/01/快速创建含有多个元素的数组/</id>
    <published>2019-07-01T02:17:23.000Z</published>
    <updated>2019-07-01T05:43:42.900Z</updated>
    
    <content type="html"><![CDATA[<p>快速并且简单的创建数组<br><a id="more"></a></p><h2 id="快速创建含有多个元素的数组"><a href="#快速创建含有多个元素的数组" class="headerlink" title="快速创建含有多个元素的数组"></a>快速创建含有多个元素的数组</h2><p>我们平时在开发时，有时候可能会创建一个包含20个元素的数组，之后对这个数组进行加工操作，来制作一个符合业务要求的数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 比如我要创建一个包含20个元素的数组</span></span><br><span class="line"><span class="keyword">var</span> arr = [];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> <span class="number">1</span>=<span class="number">0</span>; i&lt;<span class="number">20</span>; i++) &#123;</span><br><span class="line">  arr.push(<span class="literal">undefined</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>上面虽然创建了数组，但是感觉麻烦了点。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">20</span>);</span><br><span class="line"><span class="comment">// 这样创建的数组，只是有长度，但是数组里并没有元素</span></span><br><span class="line">arr.length <span class="comment">// 20</span></span><br><span class="line"><span class="number">0</span> <span class="keyword">in</span> arr <span class="comment">// false</span></span><br><span class="line"><span class="comment">// arr 这个数组使用map， forEach等方法是便利不了的</span></span><br><span class="line"><span class="comment">// 创建一个长度为20的数组，注意该数组的元素并没有被初始化</span></span><br></pre></td></tr></table></figure></p><p>好了，有几种方便的创建方式，见下面<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 首先，看一下vue官网里出现的创建方式</span></span><br><span class="line"><span class="built_in">Array</span>.apply(<span class="literal">null</span>, &#123;<span class="attr">length</span>: <span class="number">20</span>&#125;); <span class="comment">// ES5开始apply函数的第二个参数除了可以是数组外，还可以是类数组对象（即包含length属性，且length属性值是个数字的对象）</span></span><br><span class="line"><span class="comment">// 这里顺便说一下&#123;length: 20&#125;这个参数的作用</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">arguments</span>)</span><br><span class="line">&#125;</span><br><span class="line">fn(<span class="literal">undefined</span>,<span class="literal">undefined</span>,<span class="literal">undefined</span>);</span><br><span class="line">fn.apply(<span class="literal">null</span>, &#123;<span class="attr">length</span>: <span class="number">3</span>&#125;);</span><br><span class="line"><span class="comment">// 通过上面的代码，就可以看出来&#123;length: 3&#125;这个参数的含义了吧</span></span><br></pre></td></tr></table></figure></p><p>最后，总结一下可以快速创建有初始值得数组方法<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="built_in">Array</span>.apply(<span class="literal">null</span>, &#123;<span class="attr">length</span>: <span class="number">20</span>&#125;);</span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: <span class="number">20</span>&#125;)</span><br><span class="line"><span class="comment">// 3</span></span><br><span class="line"><span class="built_in">Array</span>(<span class="number">20</span>).fill(<span class="literal">undefined</span>)</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;快速并且简单的创建数组&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="javascript" scheme="/categories/javascript/"/>
    
    
      <category term="基础知识" scheme="/tags/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    
  </entry>
  
  <entry>
    <title>手写前端自动化构建工具</title>
    <link href="/2019/06/26/%E6%89%8B%E5%86%99%E5%89%8D%E7%AB%AF%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/"/>
    <id>/2019/06/26/手写前端自动化构建工具/</id>
    <published>2019-06-26T03:13:33.000Z</published>
    <updated>2019-06-26T05:36:06.527Z</updated>
    
    <content type="html"><![CDATA[<p>写一个自己的前端自动化构建工具<br><a id="more"></a></p><h2 id="手写前端自动化构建工具"><a href="#手写前端自动化构建工具" class="headerlink" title="手写前端自动化构建工具"></a>手写前端自动化构建工具</h2><p>现在我们使用vue，react等框架来开发已经很普遍了，当我们初始化一个项目的时候，是不是在命令行下按照提示一步一步的操作，最后在本地生成了一个现成的项目，是不是感觉很快捷，很方便，用来生成这个项目的工具就叫做构建工具（有的也称之为脚手架工具）。<br>我现在需要在命令行下进行各种操作，交互，npm上已经有人写好了这类工具，常用的就是commander和inquirer,使用它们来开发脚手架，真的是好简单。<br>我写了两个小demo，一个是围绕着commander，另一个则是围绕inquirer。<br>这两个小例子都很简单，可以根据具体的要求组合到一起。<br><a href="https://github.com/jinux7/study-collections/tree/master/手写自己的构建工具" target="_blank" rel="noopener">点这里看源码</a><br>select-list.js这个文件的功能是，可以根据列表的上下选择，下载github上对应的项目模板。<br>init-commander.js这个文件的功能是，命令行里传入的文件夹名和文件名来生成新项目文件。<br>题外话，这里还可以制作成系统命令，在package.json里的bin字段下。<br>如果，都配置好了，就可以使用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm link</span><br></pre></td></tr></table></figure></p><p>这个命令，把bin字段下的内容生成系统命令，这是一种方式来生成系统命令，另一种应该是把这个项目发布到npm上，安装的时候直接全局安装就可以喽。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;写一个自己的前端自动化构建工具&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="javascript" scheme="/categories/javascript/"/>
    
    
      <category term="基础知识" scheme="/tags/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    
  </entry>
  
  <entry>
    <title>javascript设计模式</title>
    <link href="/2019/06/24/javascript%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    <id>/2019/06/24/javascript设计模式/</id>
    <published>2019-06-24T02:16:13.000Z</published>
    <updated>2019-06-24T07:13:28.334Z</updated>
    
    <content type="html"><![CDATA[<p>基本上所有的设计模式都在这里了<br><a id="more"></a></p><h2 id="javascript设计模式"><a href="#javascript设计模式" class="headerlink" title="javascript设计模式"></a>javascript设计模式</h2><p>其实，设计模式在前端，平时很少会遇到，这只是作为我们这些菜鸟前端来说，但是，对于那些高级的，写插件，库之类的前端童鞋来说，设计模式还是不可或缺的，这可是实实在在的会带入到项目中的哦。<br>我只知道常见的几种，也都是为了应付面试的时候被问到，不过，今天我要终结一下，代码部分来源于网络，我只是整理一下，以备被问到时能够快速的回答出来。</p><ul><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第一章-灵活的javascript.js" target="_blank" rel="noopener">1.灵活模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第二章-写的都是看到的-面向对象编程.js" target="_blank" rel="noopener">2.面向对象编程</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第三章-神奇的魔术师-简单工厂模式.js" target="_blank" rel="noopener">3.简单工厂模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第四章-给我一张名片-工厂方法模式.js" target="_blank" rel="noopener">4.工厂方法模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第五章-出现的都是幻觉-抽象工厂模式.js" target="_blank" rel="noopener">5.抽象工厂模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第六章-分即是合-建造者模式.js" target="_blank" rel="noopener">6.建造者模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第七章-语言之魂-原型模式.js" target="_blank" rel="noopener">7.原型模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第八章-一个人的寂寞-单例模式.js" target="_blank" rel="noopener">8.单例模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第九章-套餐服务-外观模式.js" target="_blank" rel="noopener">9.外观模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第十章-水管弯弯-适配器模式.js" target="_blank" rel="noopener">10.适配器模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第十一章-牛郎织女-代理模式.js" target="_blank" rel="noopener">11.代理模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第十二章-房子装修-装饰着模式.js" target="_blank" rel="noopener">12.装饰者模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第十三章-城市间公路-桥接模式.js" target="_blank" rel="noopener">13.桥接模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第十四章-超值午餐-组合模式.js" target="_blank" rel="noopener">14.组合模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第十五章-城市公交车-享元模式.js" target="_blank" rel="noopener">15.享元模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第十六章-照猫画虎-模板方法模式.js" target="_blank" rel="noopener">16.模板方法模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第十七章-通信卫星-观察者模式.js" target="_blank" rel="noopener">17.观察者模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第十八章-超级玛丽-状态模式.js" target="_blank" rel="noopener">18.状态模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第十九章-活诸葛-策略模式.js" target="_blank" rel="noopener">19.策略模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第二十章-有序车站-职责链模式.js" target="_blank" rel="noopener">20.职责链模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第二十一章-命令模式.js" target="_blank" rel="noopener">21.命令模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第二十二章-驻华大使-访问者模式.js" target="_blank" rel="noopener">22.访问者模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第二十三章-媒婆-中介者模式.js" target="_blank" rel="noopener">23.中介者模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第二十四章-做好笔录-备忘录模式.js" target="_blank" rel="noopener">24.备忘录模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第二十五章-点钞机-迭代器模式.js" target="_blank" rel="noopener">25.迭代器模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第二十六章-语言翻译-解释器模式.js" target="_blank" rel="noopener">26.解释器模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第二十七章-永无尽头-链式模式.js" target="_blank" rel="noopener">27.链式模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第二十八章-未来预言家-委托模式.js" target="_blank" rel="noopener">28.委托模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第二十九章-数据管理器-数据访问对象模式.js" target="_blank" rel="noopener">29.数据访问对象模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第三十章-执行控制-节流模式.js" target="_blank" rel="noopener">30.节流模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第三十一章-卡片拼图-简单模板模式.js" target="_blank" rel="noopener">31.简单模板模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第三十二章-机器学习-惰性模式.js" target="_blank" rel="noopener">32.惰性模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第三十三章-异国战场-参与者模式.js" target="_blank" rel="noopener">33.参与者模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第三十四章-入场仪式-等待着模式.js" target="_blank" rel="noopener">34.等待者模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第三十五章-死心眼-同步模块.js" target="_blank" rel="noopener">35.同步模块模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第三十六章-大心脏-异步模块模式.js" target="_blank" rel="noopener">36.异步模块模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第三十七章-分而治之-widget.js" target="_blank" rel="noopener">37.widget模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第三十八章-三人行-MVC模式.js" target="_blank" rel="noopener">38.MVC模式</a></li><li><a href="https://github.com/jinux7/study-collections/blob/master/javaScript设计模式/第三十九章-MVVM.js" target="_blank" rel="noopener">39.MVVM模式</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;基本上所有的设计模式都在这里了&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="javascript" scheme="/categories/javascript/"/>
    
    
      <category term="基础知识" scheme="/tags/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    
  </entry>
  
</feed>
